<?xml version="1.0" encoding="UTF-8"?>
<repository>

<transformations>
<transformation>
  <info>
    <name>jobStart</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;23.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;20&#x3a;00.000</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>Required jobid  map with joblog.joblogid</note>
      <xloc>232</xloc>
      <yloc>68</yloc>
      <width>231</width>
      <heigth>27</heigth>
      <fontname>Noto Sans</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  </order>
  <step>
    <name>Execute SQL script - start a job</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update job_log set start_dttm &#x3d; current_timestamp&#xa;where job_log_id &#x3d; &#x24;&#x7b;job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>350</xloc>
      <yloc>133</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>jobSuccess</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;23.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;24&#x3a;38.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  </order>
  <step>
    <name>Execute SQL script - success a job</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update job_log set finish_dttm &#x3d; current_timestamp ,updated_dttm &#x3d; current_timestamp&#xa;where job_log_id &#x3d; &#x24;&#x7b;job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>387</xloc>
      <yloc>158</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CdsResults_CdsList</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2010&#x2f;06&#x2f;24 10&#x3a;26&#x3a;24.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 14&#x3a;43&#x3a;08.644</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>Retrive Cds Master &#x26; connection&#xa;Return&#xa;1. database connection config&#xa;2. cdsId</note>
      <xloc>236</xloc>
      <yloc>65</yloc>
      <width>225</width>
      <heigth>78</heigth>
      <fontname>Noto Sans</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>select cds</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>629</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>query</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>host</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>dbname</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>port</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>username</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>password</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>dbtype</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>query</name>
        <rename>query</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>host</name>
        <rename>host</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>dbname</name>
        <rename>dbname</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>port</name>
        <rename>port</rename>
        <type>String</type>
        <length>9</length>
        <precision>0</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>username</name>
        <rename>username</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>password</name>
        <rename>password</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>dbtype</name>
        <rename>dbtype</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>sql_cds_id</name>
        <rename>sql_cds_id</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>448</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select cds</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>select cds.cds_id as sql_cds_id&#xd;&#xa;,lower&#x28;cds.cds_sql&#x29; as query&#xd;&#xa;,c.ip_address as host &#xd;&#xa;,c.database_name as dbname&#xd;&#xa;,c.port as port&#xd;&#xa;,c.user_name as username&#xd;&#xa;,c.password as password&#xd;&#xa;,c.database_type_id as dbtype&#xd;&#xa;from cds left join database_connection c on cds.connection_id &#x3d; c.connection_id&#xd;&#xa;where is_sql &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>288</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CdsResult_doMysqlQuery</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>dbname</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>host</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>password</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>port</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>query</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>sql_cds_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>username</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;25.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;23 18&#x3a;31&#x3a;46.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>MysqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Merge Join </from><to>Add const  - owner</to><enabled>Y</enabled> </hop>
  <hop> <from>get period_year and month </from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join Key</from><to>Filter rows emp_code is null</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Key AIR</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Variables - sql_cds_id</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  <hop> <from>doQuery</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - cds_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Add const  - owner</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add const  - owner</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>624</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows emp_code is null</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Select values</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_code</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Key AIR</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT kcm.cds_id,&#xd;&#xa;empr.appraisal_type_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;emp.emp_code&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join employee emp on emp.emp_id &#x3d; air.emp_id&#xd;&#xa;inner join emp_result empr on empr.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and kcm.cds_id &#x3d; &#x24;&#x7b;sql_cds_id&#x7d;&#xd;&#xa;order by emp.emp_code</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sysdate</name>
        <type>system date &#x28;variable&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Variables - sql_cds_id</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sql_cds_id</name>
        <variable>&#x24;&#x7b;sql_cds_id&#x7d;</variable>
        <type>Integer</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>64</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - cds_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>1000</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>cds_result</table>
      <key>
        <name>sql_type_id</name>
        <field>appraisal_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_cds_id</name>
        <field>cds_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>cds_id</name>
        <rename>sql_cds_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>sql_org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>sql_level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>sql_position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>period_year</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>period_month_no</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>period_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>cds_value</name>
        <rename>sql_cds_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>created_by</name>
        <rename>owner</rename>
        <update>N</update>
      </value>
      <value>
        <name>created_dttm</name>
        <rename>sysdate</rename>
        <update>N</update>
      </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        <update>Y</update>
      </value>
      <value>
        <name>updated_dttm</name>
        <rename>sysdate</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>doQuery</step1>
<step2>Get Variables - sql_cds_id</step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join </name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>Select values</step1>
<step2>get period_year and month </step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>509</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join Key</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows</step1>
<step2>Get Key AIR</step2>
    <keys_1>
      <key>sql_emp_code</key>
    </keys_1>
    <keys_2>
      <key>emp_code</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>263</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename>sql_org_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename>sql_level_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename>sql_position_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>sql_emp_code</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>162</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>doQuery</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>MysqlParamConn</connection>
    <sql>&#x24;&#x7b;query&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>61</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get period_year and month </name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_month_no&#xd;&#xa;,month_name as period_month_name&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;where month_id &#x3d; month&#x28;now&#x28;&#x29;&#x29;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>509</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CdsResult_doSQLQuery</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>dbname</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>host</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>password</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>port</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>query</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>sql_cds_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>username</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;25.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;23 18&#x3a;33&#x3a;58.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>MssqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - cds_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join </from><to>Add const  - owner</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>get period_year and month </from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>Add const  - owner</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Variables - sql_cds_id</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Key AIR</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join Key</from><to>Filter rows emp_code is null</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>doQuery</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add const  - owner</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>624</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows emp_code is null</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Select values</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_code</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Key AIR</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT kcm.cds_id,&#xd;&#xa;empr.appraisal_type_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;emp.emp_code&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join employee emp on emp.emp_id &#x3d; air.emp_id&#xd;&#xa;inner join emp_result empr on empr.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and kcm.cds_id &#x3d; &#x24;&#x7b;sql_cds_id&#x7d;&#xd;&#xa;order by emp.emp_code</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sysdate</name>
        <type>system date &#x28;variable&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Variables - sql_cds_id</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sql_cds_id</name>
        <variable>&#x24;&#x7b;sql_cds_id&#x7d;</variable>
        <type>Integer</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>64</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - cds_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>1000</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>cds_result</table>
      <key>
        <name>sql_type_id</name>
        <field>appraisal_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_cds_id</name>
        <field>cds_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>cds_id</name>
        <rename>sql_cds_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>sql_org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>sql_level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>sql_position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>period_year</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>period_month_no</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>period_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>cds_value</name>
        <rename>sql_cds_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>created_by</name>
        <rename>owner</rename>
        <update>N</update>
      </value>
      <value>
        <name>created_dttm</name>
        <rename>sysdate</rename>
        <update>N</update>
      </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        <update>Y</update>
      </value>
      <value>
        <name>updated_dttm</name>
        <rename>sysdate</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>874</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>doQuery</step1>
<step2>Get Variables - sql_cds_id</step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join </name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>Select values</step1>
<step2>get period_year and month </step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>504</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join Key</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows</step1>
<step2>Get Key AIR</step2>
    <keys_1>
      <key>sql_emp_code</key>
    </keys_1>
    <keys_2>
      <key>emp_code</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>263</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename>sql_org_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename>sql_level_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename>sql_position_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_appraisal_year</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_appraisal_month_no</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>sql_emp_code</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>162</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>doQuery</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>MssqlParamConn</connection>
    <sql>&#x24;&#x7b;query&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>60</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get period_year and month </name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_month_no&#xd;&#xa;,month_name as period_month_name&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;where month_id &#x3d; month&#x28;now&#x28;&#x29;&#x29;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>504</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CheckCalculateType</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;16.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 14&#x3a;43&#x3a;03.666</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>select system_config</from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>463</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select system_config</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT result_type&#xd;&#xa;FROM system_config&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>304</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-calucalute-actual-result</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 22&#x3a;11&#x3a;12.393</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Smaller is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Bigger is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Smaller is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Bigger is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - End</from><to>mjs - make sqlQuery</to><enabled>Y</enabled> </hop>
  <hop> <from>get end_year_month</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQuery</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Sort rows - end_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - end_month_no</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>144</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29; &#x2f; 100&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>335</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>71</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>679</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>525</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>939</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>820</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - End</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - end_month_no</step1>
<step2>get end_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>end_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_end_year</key>
      <key>end_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>start_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>253</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29; &#x2f; 100&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>486</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>230</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>820</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>939</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - end_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>end_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>324</xloc>
      <yloc>82</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>start_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>82</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>142</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>525</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>842</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>275</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get end_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_end_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_end_month_no&#xd;&#xa;,month_id as end_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>679</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQuery</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>525</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ai.formula_cds_id,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;0 as accum_flag,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>24</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_percent_achievement &#x2a; weight_percent&#x29; &#x2f; 100&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Modified Java Script Value - Smaller is better</default_target_step>
<cases><case><value>1</value>
<target_step/>
</case><case><value>2</value>
<target_step/>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>411</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Smaller is better - 11</default_target_step>
<cases><case><value>1</value>
<target_step>Bigger is better - 11</target_step>
</case><case><value>2</value>
<target_step>Smaller is better - 11</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-calucalute-actual-result_edit</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 15&#x3a;40&#x3a;26.291</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Switch &#x2f; Case</from><to>mjs - make sqlQuery - Last</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>mjs - make sqlQuery - Sum</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - End</from><to>Switch &#x2f; Case</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQuery - Last</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - end_month_no</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Sort rows - end_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQuery - Sum</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>get end_year_month</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Bigger is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Smaller is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Bigger is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Smaller is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>144</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29; &#x2f; 100&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>335</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>71</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>679</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>525</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>939</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>820</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>485</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - End</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - end_month_no</step1>
<step2>get end_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>end_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_end_year</key>
      <key>end_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>start_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>253</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>411</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29; &#x2f; 100&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>486</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>230</xloc>
      <yloc>343</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>820</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>939</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - end_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>end_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>324</xloc>
      <yloc>82</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>start_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>82</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Switch &#x2f; Case</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>cds_type</fieldname>
<use_contains>N</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>s</value>
<target_step>mjs - make sqlQuery - Sum</target_step>
</case><case><value>l</value>
<target_step>mjs - make sqlQuery - Last</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>415</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>142</xloc>
      <yloc>720</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>525</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>842</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>275</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get end_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_end_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_end_month_no&#xd;&#xa;,month_id as end_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>139</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>679</xloc>
      <yloc>138</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQuery - Last</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.appraisal_month_no &#x3d; &#x28; &#x22;&#xd;&#xa;	&#x2b;&#x22; select max&#x28;appraisal_month_no&#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_value &#x21;&#x3d; 0  &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>570</xloc>
      <yloc>61</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQuery - Sum</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>570</xloc>
      <yloc>0</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.period_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;0 as accum_flag,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no,&#xd;&#xa;SUBSTR&#x28;ai.formula_cds_id,2,1&#x29; as cds_type&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>24</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_percent_achievement &#x2a; weight_percent&#x29; &#x2f; 100&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>972</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>703</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Modified Java Script Value - Smaller is better</default_target_step>
<cases><case><value>1</value>
<target_step/>
</case><case><value>2</value>
<target_step/>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>411</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Smaller is better - 11</default_target_step>
<cases><case><value>1</value>
<target_step>Bigger is better - 11</target_step>
</case><case><value>2</value>
<target_step>Smaller is better - 11</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>146</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-calucalute-actual-result_monthly</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_date</name>
            <default_value>2017-08-01</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 23&#x3a;37&#x3a;18.643</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>mjs - make sqlQueryOrg</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryEmp</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Filter rows EmpOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - monthly_appraisal_item_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>If field value is null</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>N</enabled> </hop>
  <hop> <from>mjs - make sqlQueryEmp</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result 2</from><to>Filter rows</to><enabled>N</enabled> </hop>
  <hop> <from>select kpi result 3</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>116</xloc>
      <yloc>200</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>549</xloc>
      <yloc>89</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>760</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>116</xloc>
      <yloc>94</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>mjs - make sqlQueryEmp</send_true_to>
<send_false_to>mjs - make sqlQueryOrg</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>350</xloc>
      <yloc>94</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>342</xloc>
      <yloc>288</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>item_result_id</aggregate>
          <subject>item_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>emp_result_id</aggregate>
          <subject>emp_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>kpi_type_id</aggregate>
          <subject>kpi_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>year</aggregate>
          <subject>year</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_no</aggregate>
          <subject>period_start_month_no</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_name</aggregate>
          <subject>month_name</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>level_id</aggregate>
          <subject>level_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>chief_emp_id</aggregate>
          <subject>chief_emp_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>position_id</aggregate>
          <subject>position_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>789</xloc>
      <yloc>88</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>item_result_id</aggregate>
          <subject>item_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>emp_result_id</aggregate>
          <subject>emp_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>kpi_type_id</aggregate>
          <subject>kpi_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>year</aggregate>
          <subject>year</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_no</aggregate>
          <subject>appraisal_month_no</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_name</aggregate>
          <subject>appraisal_month_name</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>level_id</aggregate>
          <subject>level_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>chief_emp_id</aggregate>
          <subject>chief_emp_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>position_id</aggregate>
          <subject>position_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>920</xloc>
      <yloc>179</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>479</xloc>
      <yloc>288</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - monthly_appraisal_item_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>monthly_appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>item_id</name>
        <field>item_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>kpi_type_id</name>
        <field>kpi_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>chief_emp_id</name>
        <field>chief_emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>year</name>
        <field>year</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>appraisal_month_no</name>
        <field>appraisal_month_no</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>item_result_id</name>
        <rename>item_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>item_id</name>
        <rename>item_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>kpi_type_id</name>
        <rename>kpi_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>year</rename>
        <update>N</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>appraisal_month_no</rename>
        <update>N</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>appraisal_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>chief_emp_id</name>
        <rename>chief_emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>target_value</name>
        <rename>target_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>157</xloc>
      <yloc>288</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>year</key>
      <key>appraisal_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>239</xloc>
      <yloc>94</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>item_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>kpi_type_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>year</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>appraisal_month_no</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>appraisal_month_name</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>chief_emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>target_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>603</xloc>
      <yloc>287</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>676</xloc>
      <yloc>89</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>920</xloc>
      <yloc>88</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>appraisal_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>178</xloc>
      <yloc>149</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;,month_name&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>242</xloc>
      <yloc>200</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x7c;last&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xd;&#xa;&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>920</xloc>
      <yloc>286</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryEmp</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and year &#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_month_no &#x3d; &#x27;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>451</xloc>
      <yloc>12</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryOrg</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and year &#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_month_no &#x3d; &#x27;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>451</xloc>
      <yloc>200</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;1 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;2 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;3 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;4 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;5 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;6 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;7 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;8 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;union&#xd;&#xa;&#xd;&#xa;SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;9 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>0</xloc>
      <yloc>94</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;month&#x28;&#x27;&#x24;&#x7b;param_date&#x7d;&#x27;&#x29; as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;ai.formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_date&#x7d;&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>10</xloc>
      <yloc>198</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result 3</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;8 as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;ai.formula_cds_id,&#xd;&#xa;-- REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;1 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;order by air.org_id&#xd;&#xa;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>47</xloc>
      <yloc>27</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-DeductScore</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 17&#x3a;04&#x3a;43.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Add constants</from><to>Update - kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Add constants</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>608</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>480</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>over_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - kpiResult</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>over_value</name>
        <rename>over_value</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT item_result_id&#xd;&#xa;,over_value&#xd;&#xa;,over_value &#x2a; deduct_score_unit as weigh_score&#xd;&#xa;FROM&#x28;&#xd;&#xa;SELECT ir.item_result_id,&#xd;&#xa;case when ir.max_value - ir.actual_value &#x3e; 0 then 0 else ir.max_value - ir.actual_value end as over_value,&#xd;&#xa;deduct_score_unit&#xd;&#xa;FROM appraisal_item_result ir&#xd;&#xa;inner join appraisal_item i on ir.item_id &#x3d; i.item_id&#xd;&#xa;inner join appraisal_structure s on s.structure_id &#x3d; i.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; s.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; ir.period_id &#xd;&#xa;where fy.form_name &#x3d; &#x27;Deduct Score&#x27;&#xd;&#xa;and ir.actual_value is not null&#xd;&#xa;and ir.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;&#x29;Deduct</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-Quality</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 18&#x3a;39&#x3a;27.704</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>GHB</note>
      <xloc>1054</xloc>
      <yloc>113</yloc>
      <width>40</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>TFG</note>
      <xloc>305</xloc>
      <yloc>114</yloc>
      <width>36</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>Dummy &#x28;do nothing&#x29; 2</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>312</xloc>
      <yloc>531</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>677</xloc>
      <yloc>263</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29; 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1060</xloc>
      <yloc>267</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>312</xloc>
      <yloc>451</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>313</xloc>
      <yloc>358</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>312</xloc>
      <yloc>604</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>679</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29;</target_step>
</case><case><value>0</value>
<target_step>Dummy &#x28;do nothing&#x29; 2</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1061</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29;</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>311</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;astr.form_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no,&#xd;&#xa;air.score,&#xd;&#xa;air.weight_percent&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	-- where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	-- and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;	&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 2&#xd;&#xa;-- and air.item_result_id in &#x28;482&#x29;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>677</xloc>
      <yloc>18</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_weigh_score  &#x3d; 0&#x3b;&#xd;&#xa;var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;form_id &#x3d;&#x3d; 2&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quality&#xd;&#xa;&#xd;&#xa;	java_weigh_score &#x3d; &#x28;score &#x2a; weight_percent&#x29;&#x2f;100&#x3b;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>313</xloc>
      <yloc>254</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreStructureResult-Calculate-score-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;30.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 19&#x3a;19&#x3a;50.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - structure_result</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>537</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>680</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>393</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT ai.structure_id&#xd;&#xa;,er.period_id&#xd;&#xa;,er.level_id&#xd;&#xa;,er.org_id&#xd;&#xa;,er.emp_id&#xd;&#xa;,er.position_id&#xd;&#xa;,sum&#x28;air.weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;,0 as nof_target_score&#xd;&#xa;,ac.weight_percent as weight_percent_deduct_score&#xd;&#xa;,0 as weigh_score&#xd;&#xa;-- ,&#x28;ac.weight_percent&#x2a;&#x28;SELECT max_score FROM system_config&#x29;&#x2f;100&#x29; &#x2b; sum&#x28;air.weigh_score&#x29; as weigh_score&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_criteria ac on ac.structure_id &#x3d; astr.structure_id &#xd;&#xa;-- and ac.appraisal_level_id &#x3d; ai.appraisal_level_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where fy.form_name &#x3d; &#x27;Deduct Score&#x27;&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by ai.structure_id&#xd;&#xa;,er.period_id&#xd;&#xa;,er.level_id&#xd;&#xa;,er.org_id&#xd;&#xa;,er.emp_id&#xd;&#xa;,er.position_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>233</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreStructureResult-Calculate-score-not-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;34.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;10 22&#x3a;35&#x3a;50.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - structure_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>496</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>656</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>emp_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id&#xd;&#xa;, sum&#x28;weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;, astr.nof_target_score&#xd;&#xa;, 0 as weight_percent_deduct_score&#xd;&#xa;, sum&#x28;weigh_score&#x29; as weigh_score&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where form_name &#x21;&#x3d; &#x27;Deduct Score&#x27;&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>SummaryScoreEmpResult-result_score</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;35.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 19&#x3a;31&#x3a;31.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>structure_result</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Update</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>320</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>emp_result</table>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <key>
        <name>position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>result_score</name>
        <rename>result_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>etl_dttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>structure_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT structure_result.period_id&#xd;&#xa;,structure_result.level_id&#xd;&#xa;,structure_result.org_id&#xd;&#xa;,structure_result.emp_id&#xd;&#xa;,structure_result.position_id&#xd;&#xa;,sum&#x28;structure_result.weigh_score&#x29; as result_score&#xd;&#xa;FROM &#x60;structure_result&#x60;&#xd;&#xa;where structure_result.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by structure_result.period_id&#xd;&#xa;,structure_result.level_id&#xd;&#xa;,structure_result.org_id&#xd;&#xa;,structure_result.emp_id&#xd;&#xa;,structure_result.position_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>Update - remind_flag</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user/>
  <created_date>2560&#x2f;10&#x2f;24 14&#x3a;37&#x3a;26.997</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 14&#x3a;44&#x3a;05.383</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Table input - remind_flag</from><to>Update - remind_flag</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Table input - remind_flag</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT monthly_appraisal_item_result.item_result_id,&#xd;&#xa;case when monthly_appraisal_item_result.target_value &#x3e; monthly_appraisal_item_result.actual_value then 1 else 0 end remind_flag&#xd;&#xa;FROM monthly_appraisal_item_result</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>215</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - remind_flag</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>monthly_appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>remind_flag</name>
        <rename>remind_flag</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>398</xloc>
      <yloc>215</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-calucalute-actual-result</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 23&#x3a;40&#x3a;08.242</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Smaller is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Bigger is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Smaller is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Bigger is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - end_month_no</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Sort rows - end_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>get end_year_month</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - End</from><to>Filter rows EmpOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryEmp</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryOrg</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryEmp</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>136</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29;&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>327</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>178</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>693</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>620</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>mjs - make sqlQueryEmp</send_true_to>
<send_false_to>mjs - make sqlQueryOrg</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>495</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>927</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>927</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - End</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - end_month_no</step1>
<step2>get end_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>end_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_end_year</key>
      <key>end_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>start_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>246</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29; &#x2f; 100&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>478</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>222</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>803</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>927</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - end_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>end_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>319</xloc>
      <yloc>134</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>start_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>134</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>134</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>517</xloc>
      <yloc>372</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>834</xloc>
      <yloc>372</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>267</xloc>
      <yloc>372</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get end_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_end_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_end_month_no&#xd;&#xa;,month_id as end_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>182</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>249</xloc>
      <yloc>182</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x7c;last&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>776</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryEmp</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>588</xloc>
      <yloc>0</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryOrg</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>588</xloc>
      <yloc>161</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;formula_cds_id,&#xd;&#xa;-- REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;1 as accum_flag,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>25</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; &#x28;actual_value &#x2f; target_value&#x29;&#x2a;100&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_percent_achievement &#x2a; weight_percent &#x2f; 100&#x29;&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Modified Java Script Value - Smaller is better</default_target_step>
<cases><case><value>1</value>
<target_step/>
</case><case><value>2</value>
<target_step/>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>403</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Smaller is better - 11</default_target_step>
<cases><case><value>1</value>
<target_step>Bigger is better - 11</target_step>
</case><case><value>2</value>
<target_step>Smaller is better - 11</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-calucalute-actual-result_edit</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 15&#x3a;39&#x3a;55.675</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Bigger is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Smaller is better - 10</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Bigger is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Smaller is better - 11</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Smaller is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 10</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Bigger is better - 11</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - end_month_no</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Sort rows - end_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>get end_year_month</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - End</from><to>Filter rows EmpOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryEmp</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryOrg</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryEmp</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>136</xloc>
      <yloc>797</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29;&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>327</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Bigger is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>178</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>693</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>620</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>mjs - make sqlQueryEmp</send_true_to>
<send_false_to>mjs - make sqlQueryOrg</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>495</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>719</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>927</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>927</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>637</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - End</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - end_month_no</step1>
<step2>get end_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>end_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_end_year</key>
      <key>end_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>start_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>246</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>563</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 10</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29; &#x2f; 100&#x3b; &#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>478</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Smaller is better - 11</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score0&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 1&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 2&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 3&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 4&#x3b;&#xd;&#xa;&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;	java_score &#x3d; 5&#x3b;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;	java_score &#x3d; 0&#x3b;&#xd;&#xa;&#x7d;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>222</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>803</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>927</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - end_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>end_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>319</xloc>
      <yloc>134</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>start_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>134</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>407</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>134</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>517</xloc>
      <yloc>372</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>834</xloc>
      <yloc>372</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>267</xloc>
      <yloc>372</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get end_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_end_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_end_month_no&#xd;&#xa;,month_id as end_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>379</xloc>
      <yloc>182</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>249</xloc>
      <yloc>182</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>776</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryEmp</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>588</xloc>
      <yloc>0</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryOrg</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>588</xloc>
      <yloc>161</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>25</xloc>
      <yloc>73</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; &#x28;java_percent_achievement &#x2a; weight_percent&#x29;&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>964</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; actual_value &#x2f; target_value&#x3b;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>695</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Modified Java Script Value - Smaller is better</default_target_step>
<cases><case><value>1</value>
<target_step/>
</case><case><value>2</value>
<target_step/>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>403</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>value_type_id</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Smaller is better - 11</default_target_step>
<cases><case><value>1</value>
<target_step>Bigger is better - 11</target_step>
</case><case><value>2</value>
<target_step>Smaller is better - 11</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>138</xloc>
      <yloc>438</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-DeductScore</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;47&#x3a;00.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Add constants</from><to>Update - kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Add constants</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_TYW</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>608</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>480</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>appraisal_item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>over_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - kpiResult</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>appraisal_item_result_id</name>
        <field>appraisal_item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>over_value</name>
        <rename>over_value</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT appraisal_item_result_id&#xd;&#xa;,over_value&#xd;&#xa;,over_value &#x2a; deduct_score_unit as weigh_score&#xd;&#xa;FROM&#x28;&#xd;&#xa;SELECT ir.appraisal_item_result_id,&#xd;&#xa;case when ir.max_value - ir.actual_value &#x3e; 0 then 0 else ir.max_value - ir.actual_value end as over_value,&#xd;&#xa;deduct_score_unit&#xd;&#xa;FROM appraisal_item_result ir&#xd;&#xa;inner join appraisal_item i on ir.appraisal_item_id &#x3d; i.appraisal_item_id&#xd;&#xa;inner join appraisal_structure s on s.structure_id &#x3d; i.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; s.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; ir.period_id &#xd;&#xa;where fy.form_name &#x3d; &#x27;Deduct Score&#x27;&#xd;&#xa;and ir.actual_value is not null&#xd;&#xa;and ap.start_date &#x3c;&#x3d; &#x28;SYSDATE&#x28;&#x29;- INTERVAL 1 DAY&#x29; and ap.end_date &#x3e;&#x3d; &#x28;SYSDATE&#x28;&#x29;- INTERVAL 1 DAY&#x29; &#xd;&#xa;&#x29;Deduct</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-DeductScore_new</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 11&#x3a;52&#x3a;38.124</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Add constants</from><to>Update - kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Add constants</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result 2</from><to>over_value &#x26; weigh_score</to><enabled>Y</enabled> </hop>
  <hop> <from>over_value &#x26; weigh_score</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>774</xloc>
      <yloc>63</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>646</xloc>
      <yloc>63</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_over_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>524</xloc>
      <yloc>63</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - kpiResult</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>over_value</name>
        <rename>java_over_value</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>922</xloc>
      <yloc>63</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>over_value &#x26; weigh_score</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>&#xd;&#xa;var java_weigh_score &#x3d; 0&#x3b;&#xd;&#xa;var java_over_value &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;java_over_value &#x3d; max_value-actual_value&#x3b;&#xd;&#xa;java_weigh_score &#x3d; &#x28;java_over_value &#x2a; deduct_score_unit&#x29;&#x3b;&#xd;&#xa;	&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_over_value</name>
        <rename>java_over_value</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>361</xloc>
      <yloc>63</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;astr.form_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no,&#xd;&#xa;air.actual_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;air.max_value,&#xd;&#xa;air.deduct_score_unit&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 3 &#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>139</xloc>
      <yloc>62</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-Quality</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 11&#x3a;52&#x3a;16.944</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>GHB</note>
      <xloc>1054</xloc>
      <yloc>113</yloc>
      <width>40</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>TFG</note>
      <xloc>305</xloc>
      <yloc>114</yloc>
      <width>36</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1068</xloc>
      <yloc>526</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>312</xloc>
      <yloc>531</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>677</xloc>
      <yloc>263</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1068</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>312</xloc>
      <yloc>451</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1065</xloc>
      <yloc>355</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>313</xloc>
      <yloc>358</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1068</xloc>
      <yloc>601</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>312</xloc>
      <yloc>604</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>679</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29;</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 1</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1061</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29;</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>311</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;air.item_id,&#xd;&#xa;astr.form_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no,&#xd;&#xa;air.score,&#xd;&#xa;air.weight_percent&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 2&#xd;&#xa;-- and air.item_result_id in &#x28;482&#x29;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>677</xloc>
      <yloc>18</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_weigh_score  &#x3d; 0&#x3b;&#xd;&#xa;var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;form_id &#x3d;&#x3d; 2&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quality&#xd;&#xa;	&#xd;&#xa;	java_weigh_score &#x3d; &#x28;score &#x2a; weight_percent&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1060</xloc>
      <yloc>252</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_weigh_score  &#x3d; 0&#x3b;&#xd;&#xa;var java_score &#x3d; 0&#x3b;&#xd;&#xa;&#xd;&#xa;if&#x28;form_id &#x3d;&#x3d; 2&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quality&#xd;&#xa;&#xd;&#xa;	java_weigh_score &#x3d; &#x28;score &#x2a; weight_percent&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>313</xloc>
      <yloc>254</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightStructureResult-Calculate-score-not-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;34.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 22&#x3a;26&#x3a;13.636</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - structure_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>496</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>656</xloc>
      <yloc>161</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>emp_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id&#xd;&#xa;, sum&#x28;air.weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;, astr.nof_target_score&#xd;&#xa;, 0 as weight_percent_deduct_score&#xd;&#xa;, case when &#x28;SELECT system_config.threshold FROM system_config&#x29; &#x3d; 1 then sum&#x28;air.weigh_score&#x29; &#x2f; astr.nof_target_score else sum&#x28;air.weigh_score&#x29; end as weigh_score&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where form_name &#x21;&#x3d; &#x27;Deduct Score&#x27;&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>get joblog</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>param_job_id</name>
            <default_value>1</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2013&#x2f;07&#x2f;29 16&#x3a;47&#x3a;04.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 16&#x3a;27&#x3a;46.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Select values &#x26; format </from><to>Set Variables</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values &#x26; format </from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values &#x26; format </from><to>Execute SQL script - set job start</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>852</xloc>
      <yloc>263</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Execute SQL script - set job start</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection/>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>Update JobLog Set LastExecDT &#x3d; CURRENT TIMESTAMP , LastStartExecDT &#x3d; CURRENT TIMESTAMP , LastFinishExecDT &#x3d; NULL&#xa;where JobName &#x3d; &#x27;&#x24;&#x7b;JobName&#x7d;&#x27;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>852</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values &#x26; format </name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>JOBLOGID</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>JOBNAME</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>IS_DISABLED</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>DATASTARTDT</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>DATAENDDT</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>CURRENTDT</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>JOBLOGID</name>
        <rename>JOBLOGID</rename>
        <type>Integer</type>
        <length>10</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>JOBNAME</name>
        <rename>JOBNAME</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>IS_DISABLED</name>
        <rename>IS_DISABLED</rename>
        <type>Integer</type>
        <length>10</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>DATAENDDT</name>
        <rename>DATAENDDT</rename>
        <type>Date</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>DATASTARTDT</name>
        <rename>DATASTARTDT</rename>
        <type>Date</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>CURRENTDT</name>
        <rename>CURRENTDT</rename>
        <type>Date</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>659</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Variables</name>
    <type>SetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <field_name>DATAENDDT</field_name>
        <variable_name>DATAENDDT</variable_name>
        <variable_type>PARENT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>DATAENDDT</field_name>
        <variable_name>DATASTARTDT</variable_name>
        <variable_type>PARENT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>JOBLOGID</field_name>
        <variable_name>JOBLOGID</variable_name>
        <variable_type>PARENT_JOB</variable_type>
        <default_value/>
        </field>
      </fields>
    <use_formatting>Y</use_formatting>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>659</xloc>
      <yloc>263</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get param start date</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT param_start_date&#xd;&#xa;FROM job_log&#xd;&#xa;where job_log_id &#x3d; &#x27;&#x24;&#x7b;param_job_id&#x7d;&#x27;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>165</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>jobStart</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;23.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;20&#x3a;00.000</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>Required jobid  map with joblog.joblogid</note>
      <xloc>232</xloc>
      <yloc>68</yloc>
      <width>231</width>
      <heigth>27</heigth>
      <fontname>Noto Sans</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  </order>
  <step>
    <name>Execute SQL script - start a job</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update job_log set start_dttm &#x3d; current_timestamp&#xa;where job_log_id &#x3d; &#x24;&#x7b;job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>350</xloc>
      <yloc>133</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>jobSuccess</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;23.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;24&#x3a;38.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  </order>
  <step>
    <name>Execute SQL script - success a job</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update job_log set finish_dttm &#x3d; current_timestamp ,updated_dttm &#x3d; current_timestamp&#xa;where job_log_id &#x3d; &#x24;&#x7b;job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>387</xloc>
      <yloc>158</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>loop - monthly</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>param_job_log_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user/>
  <created_date>2560&#x2f;11&#x2f;03 16&#x3a;28&#x3a;04.958</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;11&#x2f;03 20&#x3a;11&#x3a;52.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Execute SQL script</from><to>get flag_loop</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>Abort</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>get flag_loop</from><to>Switch &#x2f; Case</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Abort</name>
    <type>Abort</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <row_threshold>0</row_threshold>
      <message/>
      <always_log_rows>Y</always_log_rows>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>560</xloc>
      <yloc>244</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>560</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Execute SQL script</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update job_log&#xd;&#xa;set etl_finish_dttm &#x3d; now&#x28;&#x29;&#xd;&#xa;,param_start_date &#x3d; DATE_ADD&#x28;job_log.param_start_date,INTERVAL 1 month&#x29;&#xd;&#xa;,param_end_date &#x3d; DATE_ADD&#x28;job_log.param_end_date,INTERVAL 1 month&#x29;&#xd;&#xa;where job_log_id &#x3d; &#x24;&#x7b;param_job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>131</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Switch &#x2f; Case</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_loop</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29;</target_step>
</case><case><value>0</value>
<target_step>Abort</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>418</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get flag_loop</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT case when job_log.param_start_date &#x3e; date&#x28;concat&#x28;year&#x28;now&#x28;&#x29;&#x29;,month&#x28;now&#x28;&#x29;&#x29;,&#x27;01&#x27;&#x29;&#x29; then 1 else 0 end as flag_loop&#xd;&#xa;FROM job_log&#xd;&#xa;where job_log_id &#x3d; &#x24;&#x7b;param_job_log_id&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>273</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>sender email</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;30 16&#x3a;05&#x3a;11.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 15&#x3a;02&#x3a;03.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Table input</from><to>Mail</to><enabled>N</enabled> </hop>
  <hop> <from>Table input 2</from><to>Mail</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Mail</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>smtp_server</server>
      <port>port</port>
      <destination>email</destination>
      <destinationCc>cc</destinationCc>
      <destinationBCc/>
      <replyToAddresses/>
      <replyto>sender_address</replyto>
      <replytoname>sender_name</replytoname>
      <subject>subject</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>N</isFilenameDynamic>
      <attachContentFromField>N</attachContentFromField>
      <attachContentField/>
      <attachContentFileNameField/>
      <dynamicFieldname/>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>comment</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>Y</use_auth>
      <use_secure_auth>Y</use_secure_auth>
      <auth_user>users</auth_user>
      <auth_password>Encrypted 2be98afc86aa7f2e4cb79ce10ce93bcc9</auth_password>
      <only_comment>N</only_comment>
      <use_HTML>N</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <sensitivity>normal</sensitivity>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>394</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>select -- &#x27;ruslan&#x40;musashi.co.th&#x27; as email&#xd;&#xa;&#x27;jirayu&#x40;goingjesse.com&#x27; as email&#xd;&#xa;,&#x27;jirayu&#x40;goingjesse.com&#x27; as cc&#xd;&#xa;,&#x27;test&#x27; as sender_name&#xd;&#xa;,&#x27;test&#x40;gamil.co.th&#x27; as sender_address&#xd;&#xa;,&#x27;smtp.gmail.com&#x27; as smtp_server&#xd;&#xa;,&#x27;465&#x27; as port&#xd;&#xa;,&#x27;subject&#x27; as subject&#xd;&#xa;,&#x27;comment&#x27; as comment&#xd;&#xa;, &#x27;jirayu&#x40;goingjesse.com&#x27; as users&#xd;&#xa;, &#x27;ginv&#x27;&#x27;gmr&#x27; as pass</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>220</xloc>
      <yloc>126</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT m.destination_address&#xd;&#xa;, m.cc&#xd;&#xa;, m.bcc&#xd;&#xa;, m.sender_name&#xd;&#xa;, m.sender_address&#xd;&#xa;, m.smtp_server&#xd;&#xa;, m.port&#xd;&#xa;, m.authentication_user&#xd;&#xa;, m.authentication_password&#xd;&#xa;, concat&#x28;m.path_log_file,DATE_FORMAT&#x28;SYSDATE&#x28;&#x29;, &#x27;&#x25;Y&#x25;m&#x25;d&#x27;&#x29;,&#x27;.txt&#x27;&#x29; as path_log_file&#xd;&#xa;,m.subject_success&#xd;&#xa;,m.comment_success&#xd;&#xa;FROM mail m&#xd;&#xa;where mail_id &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>227</xloc>
      <yloc>219</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>sender_email_error</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>job_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;06&#x2f;26 10&#x3a;33&#x3a;47.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 14&#x3a;55&#x3a;57.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <order>
  <hop> <from>Table input</from><to>Mail - Musashi</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Mail - Musashi</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>smtp_server</server>
      <port>port</port>
      <destination>destination_address</destination>
      <destinationCc>cc</destinationCc>
      <destinationBCc>bcc</destinationBCc>
      <replyToAddresses/>
      <replyto>sender_address</replyto>
      <replytoname>sender_name</replytoname>
      <subject>subject_error</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>Y</isFilenameDynamic>
      <attachContentFromField>N</attachContentFromField>
      <attachContentField/>
      <attachContentFileNameField/>
      <dynamicFieldname>path_log_file</dynamicFieldname>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>comment_error</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>N</use_auth>
      <use_secure_auth>N</use_secure_auth>
      <auth_user/>
      <auth_password>Encrypted </auth_password>
      <only_comment>N</only_comment>
      <use_HTML>N</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <sensitivity>normal</sensitivity>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>396</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection/>
    <sql>SELECT m.destination_address&#xd;&#xa;, m.cc&#xd;&#xa;, m.bcc&#xd;&#xa;, m.sender_name&#xd;&#xa;, m.sender_address&#xd;&#xa;, m.smtp_server&#xd;&#xa;, m.port&#xd;&#xa;, m.authentication_user&#xd;&#xa;, m.authentication_password&#xd;&#xa;, concat&#x28;j.path_log_file,DATE_FORMAT&#x28;SYSDATE&#x28;&#x29;, &#x27;&#x25;Y&#x25;m&#x25;d&#x27;&#x29;,&#x27;.txt&#x27;&#x29; as path_log_file&#xd;&#xa;,j.subject_error&#xd;&#xa;,j.comment_error&#xd;&#xa;FROM job_log j &#xd;&#xa;left join mail m on m.mail_id &#x3d; j.mail_id&#xd;&#xa;where job_id &#x3d; &#x24;&#x7b;job_id&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>220</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>sender_email_reject</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>file_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>job_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;06&#x2f;26 10&#x3a;33&#x3a;47.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 14&#x3a;56&#x3a;05.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <order>
  <hop> <from>Switch &#x2f; Case</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>Mail</to><enabled>Y</enabled> </hop>
  <hop> <from>File exists</from><to>Switch &#x2f; Case</to><enabled>Y</enabled> </hop>
  <hop> <from>Table input</from><to>File exists</to><enabled>Y</enabled> </hop>
  <hop> <from>Table input</from><to>Mail - Musashi</to><enabled>N</enabled> </hop>
  </order>
  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>524</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>File exists</name>
    <type>FileExists</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <filenamefield>path_file_reject</filenamefield>
    <resultfieldname>result</resultfieldname>
    <includefiletype>N</includefiletype>
    <filetypefieldname/>
    <addresultfilenames>N</addresultfilenames>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>334</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Mail</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>smtp_server</server>
      <port>port</port>
      <destination>destination_address</destination>
      <destinationCc>cc</destinationCc>
      <destinationBCc>bcc</destinationBCc>
      <replyToAddresses/>
      <replyto>sender_address</replyto>
      <replytoname>sender_name</replytoname>
      <subject>subject_reject</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>Y</isFilenameDynamic>
      <attachContentFromField>N</attachContentFromField>
      <attachContentField/>
      <attachContentFileNameField/>
      <dynamicFieldname>path_file_reject</dynamicFieldname>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>comment_reject</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>Y</use_auth>
      <use_secure_auth>Y</use_secure_auth>
      <auth_user>authentication_user</auth_user>
      <auth_password>Encrypted 61757468656e76d7fbcebc03c89cbbbb18bd63c99dbdde</auth_password>
      <only_comment>N</only_comment>
      <use_HTML>N</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <sensitivity>normal</sensitivity>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>522</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Mail - Musashi</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>smtp_server</server>
      <port>port</port>
      <destination>destination_address</destination>
      <destinationCc>cc</destinationCc>
      <destinationBCc>bcc</destinationBCc>
      <replyToAddresses/>
      <replyto>sender_address</replyto>
      <replytoname>sender_name</replytoname>
      <subject>subject</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>N</isFilenameDynamic>
      <attachContentFromField>N</attachContentFromField>
      <attachContentField/>
      <attachContentFileNameField/>
      <dynamicFieldname/>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>comment</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>N</use_auth>
      <use_secure_auth>N</use_secure_auth>
      <auth_user/>
      <auth_password>Encrypted </auth_password>
      <only_comment>N</only_comment>
      <use_HTML>N</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <sensitivity>normal</sensitivity>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>336</xloc>
      <yloc>40</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Switch &#x2f; Case</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>result</fieldname>
<use_contains>N</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Dummy &#x28;do nothing&#x29;</default_target_step>
<cases><case><value>Y</value>
<target_step>Mail</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>420</xloc>
      <yloc>130</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection/>
    <sql>SELECT m.destination_address&#xd;&#xa;, m.cc&#xd;&#xa;, m.bcc&#xd;&#xa;, m.sender_name&#xd;&#xa;, m.sender_address&#xd;&#xa;, m.smtp_server&#xd;&#xa;, m.port&#xd;&#xa;, m.authentication_user&#xd;&#xa;, m.authentication_password&#xd;&#xa;, concat&#x28;f.path_file_reject,&#x27;_&#x27;,DATE_FORMAT&#x28;SYSDATE&#x28;&#x29;, &#x27;&#x25;Y&#x25;m&#x25;d&#x27;&#x29;,&#x27;.txt&#x27;&#x29; as path_file_reject&#xd;&#xa;, concat&#x28;&#x27;etl_musashi_reject_&#x27;,f.file_name&#x29; as subject_reject&#xd;&#xa;, concat&#x28;&#x27;reject_&#x27;,f.file_name&#x29; as comment_reject&#xd;&#xa;FROM job_log j &#xd;&#xa;left join mail m on m.mail_id &#x3d; j.mail_id&#xd;&#xa;left join file f on f.job_id &#x3d; j.job_id&#xd;&#xa;where j.job_id &#x3d; &#x24;&#x7b;job_id&#x7d;&#xd;&#xa;and f.file_id &#x3d; &#x24;&#x7b;file_id&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>220</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>sender_email_success</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;06&#x2f;26 10&#x3a;33&#x3a;48.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 14&#x3a;55&#x3a;39.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <order>
  <hop> <from>Table input</from><to>Mail - Musashi</to><enabled>N</enabled> </hop>
  <hop> <from>Table input</from><to>Mail</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Mail</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>smtp_server</server>
      <port>port</port>
      <destination>destination_address</destination>
      <destinationCc>cc</destinationCc>
      <destinationBCc>bcc</destinationBCc>
      <replyToAddresses/>
      <replyto>sender_address</replyto>
      <replytoname>sender_name</replytoname>
      <subject>subject_success</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>Y</isFilenameDynamic>
      <attachContentFromField>N</attachContentFromField>
      <attachContentField/>
      <attachContentFileNameField/>
      <dynamicFieldname>path_log_file</dynamicFieldname>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>comment_success</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>Y</use_auth>
      <use_secure_auth>Y</use_secure_auth>
      <auth_user>authentication_user</auth_user>
      <auth_password>Encrypted 61757468656e76d7fbcebc03c89cbbbb18bd63c99dbdde</auth_password>
      <only_comment>N</only_comment>
      <use_HTML>N</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <sensitivity>normal</sensitivity>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>394</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Mail - Musashi</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>smtp_server</server>
      <port>port</port>
      <destination>destination_address</destination>
      <destinationCc>cc</destinationCc>
      <destinationBCc>bcc</destinationBCc>
      <replyToAddresses/>
      <replyto>sender_address</replyto>
      <replytoname>sender_name</replytoname>
      <subject>subject</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>N</isFilenameDynamic>
      <attachContentFromField>N</attachContentFromField>
      <attachContentField/>
      <attachContentFileNameField/>
      <dynamicFieldname/>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>comment</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>N</use_auth>
      <use_secure_auth>N</use_secure_auth>
      <auth_user/>
      <auth_password>Encrypted </auth_password>
      <only_comment>N</only_comment>
      <use_HTML>N</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <sensitivity>normal</sensitivity>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>389</xloc>
      <yloc>42</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection/>
    <sql>SELECT m.destination_address&#xd;&#xa;, m.cc&#xd;&#xa;, m.bcc&#xd;&#xa;, m.sender_name&#xd;&#xa;, m.sender_address&#xd;&#xa;, m.smtp_server&#xd;&#xa;, m.port&#xd;&#xa;, m.authentication_user&#xd;&#xa;, m.authentication_password&#xd;&#xa;, concat&#x28;j.path_log_file,DATE_FORMAT&#x28;SYSDATE&#x28;&#x29;, &#x27;&#x25;Y&#x25;m&#x25;d&#x27;&#x29;,&#x27;.txt&#x27;&#x29; as path_log_file&#xd;&#xa;,j.subject_success&#xd;&#xa;,j.comment_success&#xd;&#xa;FROM job_log j &#xd;&#xa;left join mail m on m.mail_id &#x3d; j.mail_id&#xd;&#xa;where job_id &#x3d; 1&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>220</xloc>
      <yloc>129</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>update etl_finish_dttm</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>param_job_log_id</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2013&#x2f;07&#x2f;29 16&#x3a;47&#x3a;04.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;11&#x2f;03 17&#x3a;13&#x3a;56.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  </order>
  <step>
    <name>update etl_finish_dttm</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>Update job_log&#xd;&#xa;Set etl_finish_dttm &#x3d; now&#x28;&#x29;&#xd;&#xa;,param_start_date &#x3d; now&#x28;&#x29;&#xd;&#xa;,param_end_date &#x3d; now&#x28;&#x29;&#xa;where job_log_id &#x3d; &#x24;&#x7b;param_job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>470</xloc>
      <yloc>171</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>update etl_start_dttm</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>param_job_log_id</name>
            <default_value>2</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2013&#x2f;07&#x2f;29 16&#x3a;47&#x3a;04.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 18&#x3a;03&#x3a;53.958</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>update etl_start_dttm</from><to>get param_start_date</to><enabled>Y</enabled> </hop>
  <hop> <from>get param_start_date</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Set Variables</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>702</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>param_start_date</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>param_result_type</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>param_result_type</name>
        <rename>param_result_type</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>575</xloc>
      <yloc>181</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Variables</name>
    <type>SetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <field_name>param_start_date</field_name>
        <variable_name>param_start_date</variable_name>
        <variable_type>JVM</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>param_result_type</field_name>
        <variable_name>param_result_type</variable_name>
        <variable_type>JVM</variable_type>
        <default_value/>
        </field>
      </fields>
    <use_formatting>Y</use_formatting>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>702</xloc>
      <yloc>133</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get param_start_date</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT job_log.job_log_id,&#xd;&#xa;job_log.job_log_name, &#xd;&#xa;job_log.param_start_date,&#xd;&#xa;&#x28;SELECT result_type FROM system_config&#x29; as param_result_type&#xd;&#xa;FROM job_log&#xd;&#xa;where job_log.job_log_id &#x3d; &#x24;&#x7b;param_job_log_id&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>457</xloc>
      <yloc>181</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>update etl_start_dttm</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>Update job_log&#xd;&#xa;Set etl_start_dttm &#x3d; now&#x28;&#x29;&#xd;&#xa;, etl_finish_dttm &#x3d; null&#xa;where job_log_id &#x3d; &#x24;&#x7b;param_job_log_id&#x7d;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>336</xloc>
      <yloc>181</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>update joblog - success</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
    <parameters>
        <parameter>
            <name>JobName</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2013&#x2f;07&#x2f;29 16&#x3a;49&#x3a;26.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 16&#x3a;18&#x3a;09.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <order>
  <hop> <from>Get Variables</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Execute SQL script - Set Execute Finish</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Execute SQL script - Set Execute Finish</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection/>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>Update JobLog Set LastFinishExecDT &#x3d; CURRENT TIMESTAMP , IS_ERROR &#x3d; 0 , LastDataExecDT &#x3d; &#x27;&#x3f;&#x27; , UPDATEDDT &#x3d; CURRENT TIMESTAMP&#xa;where JobName &#x3d; &#x27;&#x3f;&#x27;&#xa;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>TransDate</name></argument>
       <argument><name>JobName</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>593</xloc>
      <yloc>141</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>TransDate</name>
        <type>system date &#x28;variable&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>288</xloc>
      <yloc>142</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Variables</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>JobName</name>
        <variable>&#x24;&#x7b;JobName&#x7d;</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>150</xloc>
      <yloc>142</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>JobName</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>TransDate</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>JobName</name>
        <rename>JobName</rename>
        <type>None</type>
        <length>19</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>TransDate</name>
        <rename>TransDate</rename>
        <type>Date</type>
        <length>19</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd HH&#x3a;mm&#x3a;ss</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>414</xloc>
      <yloc>142</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CdsResults_CdsList</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2010&#x2f;06&#x2f;24 10&#x3a;26&#x3a;24.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;22&#x3a;46.000</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>Retrive Cds Master &#x26; connection&#xa;Return&#xa;1. database connection config&#xa;2. cdsId</note>
      <xloc>236</xloc>
      <yloc>65</yloc>
      <width>225</width>
      <heigth>78</heigth>
      <fontname>Noto Sans</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>select cds</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>629</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>query</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>host</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>dbname</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>port</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>username</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>password</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>dbtype</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>query</name>
        <rename>query</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>host</name>
        <rename>host</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>dbname</name>
        <rename>dbname</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>port</name>
        <rename>port</rename>
        <type>String</type>
        <length>9</length>
        <precision>0</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>username</name>
        <rename>username</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>password</name>
        <rename>password</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>dbtype</name>
        <rename>dbtype</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>sql_cds_id</name>
        <rename>sql_cds_id</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>448</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select cds</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>select cds.cds_id as sql_cds_id&#xd;&#xa;,lower&#x28;cds.cds_sql&#x29; as query&#xd;&#xa;,c.ip_address as host &#xd;&#xa;,c.database_name as dbname&#xd;&#xa;,c.port as port&#xd;&#xa;,c.user_name as username&#xd;&#xa;,c.password as password&#xd;&#xa;,c.database_type_id as dbtype&#xd;&#xa;from cds left join database_connection c on cds.connection_id &#x3d; c.connection_id&#xd;&#xa;where is_sql &#x3d; 1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>288</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CdsResult_doMysqlQuery</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>dbname</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>host</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>password</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>port</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>query</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>sql_cds_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>username</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;25.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;23 18&#x3a;31&#x3a;46.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>MysqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Merge Join </from><to>Add const  - owner</to><enabled>Y</enabled> </hop>
  <hop> <from>get period_year and month </from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join Key</from><to>Filter rows emp_code is null</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Key AIR</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Variables - sql_cds_id</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  <hop> <from>doQuery</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - cds_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Add const  - owner</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add const  - owner</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>624</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows emp_code is null</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Select values</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_code</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Key AIR</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT kcm.cds_id,&#xd;&#xa;empr.appraisal_type_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;emp.emp_code&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join employee emp on emp.emp_id &#x3d; air.emp_id&#xd;&#xa;inner join emp_result empr on empr.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and kcm.cds_id &#x3d; &#x24;&#x7b;sql_cds_id&#x7d;&#xd;&#xa;order by emp.emp_code</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sysdate</name>
        <type>system date &#x28;variable&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Variables - sql_cds_id</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sql_cds_id</name>
        <variable>&#x24;&#x7b;sql_cds_id&#x7d;</variable>
        <type>Integer</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>64</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - cds_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>1000</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>cds_result</table>
      <key>
        <name>sql_type_id</name>
        <field>appraisal_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_cds_id</name>
        <field>cds_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>cds_id</name>
        <rename>sql_cds_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>sql_org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>sql_level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>sql_position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>period_year</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>period_month_no</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>period_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>cds_value</name>
        <rename>sql_cds_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>created_by</name>
        <rename>owner</rename>
        <update>N</update>
      </value>
      <value>
        <name>created_dttm</name>
        <rename>sysdate</rename>
        <update>N</update>
      </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        <update>Y</update>
      </value>
      <value>
        <name>updated_dttm</name>
        <rename>sysdate</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>doQuery</step1>
<step2>Get Variables - sql_cds_id</step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join </name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>Select values</step1>
<step2>get period_year and month </step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>509</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join Key</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows</step1>
<step2>Get Key AIR</step2>
    <keys_1>
      <key>sql_emp_code</key>
    </keys_1>
    <keys_2>
      <key>emp_code</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>263</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename>sql_org_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename>sql_level_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename>sql_position_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>sql_emp_code</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>162</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>doQuery</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>MysqlParamConn</connection>
    <sql>&#x24;&#x7b;query&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>61</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get period_year and month </name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_month_no&#xd;&#xa;,month_name as period_month_name&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;where month_id &#x3d; month&#x28;now&#x28;&#x29;&#x29;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>509</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>CdsResult_doSQLQuery</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>dbname</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>host</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>password</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>port</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>query</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>sql_cds_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>username</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;25.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;23 18&#x3a;33&#x3a;58.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>MssqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - cds_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join </from><to>Add const  - owner</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>get period_year and month </from><to>Merge Join </to><enabled>Y</enabled> </hop>
  <hop> <from>Add const  - owner</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Variables - sql_cds_id</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Key AIR</from><to>Merge Join Key</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join Key</from><to>Filter rows emp_code is null</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows emp_code is null</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>doQuery</from><to>Merge Join</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add const  - owner</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>624</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows emp_code is null</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Select values</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_code</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Key AIR</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT kcm.cds_id,&#xd;&#xa;empr.appraisal_type_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;emp.emp_code&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join employee emp on emp.emp_id &#x3d; air.emp_id&#xd;&#xa;inner join emp_result empr on empr.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; now&#x28;&#x29; and ap.end_date &#x3e;&#x3d; now&#x28;&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and kcm.cds_id &#x3d; &#x24;&#x7b;sql_cds_id&#x7d;&#xd;&#xa;order by emp.emp_code</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>264</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sysdate</name>
        <type>system date &#x28;variable&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Variables - sql_cds_id</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>sql_cds_id</name>
        <variable>&#x24;&#x7b;sql_cds_id&#x7d;</variable>
        <type>Integer</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>64</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - cds_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>1000</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>cds_result</table>
      <key>
        <name>sql_type_id</name>
        <field>appraisal_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_cds_id</name>
        <field>cds_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>sql_position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>cds_id</name>
        <rename>sql_cds_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>sql_org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>sql_level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>sql_position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>period_year</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>period_month_no</rename>
        <update>Y</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>period_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>cds_value</name>
        <rename>sql_cds_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>created_by</name>
        <rename>owner</rename>
        <update>N</update>
      </value>
      <value>
        <name>created_dttm</name>
        <rename>sysdate</rename>
        <update>N</update>
      </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        <update>Y</update>
      </value>
      <value>
        <name>updated_dttm</name>
        <rename>sysdate</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>874</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>doQuery</step1>
<step2>Get Variables - sql_cds_id</step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join </name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>FULL OUTER</join_type>
<step1>Select values</step1>
<step2>get period_year and month </step2>
    <keys_1>
    </keys_1>
    <keys_2>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>504</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join Key</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows</step1>
<step2>Get Key AIR</step2>
    <keys_1>
      <key>sql_emp_code</key>
    </keys_1>
    <keys_2>
      <key>emp_code</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>263</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>appraisal_type_id</name>
        <rename>sql_type_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename>sql_org_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename>sql_level_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename>sql_emp_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename>sql_position_id</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_appraisal_year</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_appraisal_month_no</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>sql_cds_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>412</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>sql_emp_code</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>162</xloc>
      <yloc>136</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>doQuery</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>MssqlParamConn</connection>
    <sql>&#x24;&#x7b;query&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>60</xloc>
      <yloc>242</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get period_year and month </name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_month_no&#xd;&#xa;,month_name as period_month_name&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;where month_id &#x3d; month&#x28;now&#x28;&#x29;&#x29;&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>504</xloc>
      <yloc>22</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-calucalute-actual-result</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value>2017-01-01</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 13&#x3a;49&#x3a;03.118</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>mjs - make sqlQueryEmp</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryOrg</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - End</from><to>Filter rows EmpOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryEmp</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>get end_year_month</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Sort rows - end_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - end_month_no</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>Dummy &#x28;do nothing&#x29; 2</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>Dummy &#x28;do nothing&#x29; 2</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>Dummy &#x28;do nothing&#x29; 2 2</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>541</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>162</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29; 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>573</xloc>
      <yloc>335</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29; 2 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1123</xloc>
      <yloc>241</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>718</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>564</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>162</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>mjs - make sqlQueryEmp</send_true_to>
<send_false_to>mjs - make sqlQueryOrg</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>515</xloc>
      <yloc>51</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>573</xloc>
      <yloc>541</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>appraisal_type_id</aggregate>
          <subject>appraisal_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>form_id</aggregate>
          <subject>form_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>978</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>appraisal_type_id</aggregate>
          <subject>appraisal_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>form_id</aggregate>
          <subject>form_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>859</xloc>
      <yloc>161</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>575</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - End</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - end_month_no</step1>
<step2>get end_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>end_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_end_year</key>
      <key>end_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>418</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>start_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>292</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>859</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>978</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - end_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>end_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>363</xloc>
      <yloc>103</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>start_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>236</xloc>
      <yloc>103</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>564</xloc>
      <yloc>241</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29; 2 2</target_step>
</case><case><value>0</value>
<target_step>Dummy &#x28;do nothing&#x29; 2</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>881</xloc>
      <yloc>241</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29; 2</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>314</xloc>
      <yloc>241</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get end_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_end_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_end_month_no&#xd;&#xa;,month_id as end_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>418</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>295</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>718</xloc>
      <yloc>159</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryEmp</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;if&#x28;cds_type &#x3d;&#x3d; &#x27;s&#x27;&#x29;&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.appraisal_month_no &#x3d; &#x28; &#x22;&#xd;&#xa;	&#x2b;&#x22; select max&#x28;appraisal_month_no&#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_value &#x21;&#x3d; 0  &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>618</xloc>
      <yloc>6</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryOrg</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;if&#x28;cds_type &#x3d;&#x3d; &#x27;s&#x27;&#x29;&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_type_id&#x3d;&#x22;&#x2b;appraisal_type_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.appraisal_month_no &#x3d; &#x28; &#x22;&#xd;&#xa;	&#x2b;&#x22; select max&#x28;appraisal_month_no&#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_type_id&#x3d;&#x22;&#x2b;appraisal_type_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_value &#x21;&#x3d; 0  &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>605</xloc>
      <yloc>98</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;er.appraisal_type_id,&#xd;&#xa;air.item_id,&#xd;&#xa;astr.form_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;air.score,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no,&#xd;&#xa;-- air.actual_value as actual_value_new,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;SUBSTR&#x28;ai.formula_cds_id,2,1&#x29; as cds_type&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;INNER JOIN emp_result er on er.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;group by air.item_result_id,&#xd;&#xa;al.no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29;,&#xd;&#xa;er.appraisal_type_id,&#xd;&#xa;air.item_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29;,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;month&#x28;ap.start_date&#x29;,&#xd;&#xa;month&#x28;ap.end_date&#x29;,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;SUBSTR&#x28;ai.formula_cds_id,2,1&#x29;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>63</xloc>
      <yloc>50</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;var java_score &#x3d; 0&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; 0&#x3b;&#xd;&#xa;if&#x28; value_type_id &#x3d;&#x3d; 1&#x29;&#x7b; &#x2f;&#x2f;Bigger is better&#xd;&#xa;	if&#x28;target_value &#x3d;&#x3d; 0&#x29;&#x7b; &#xd;&#xa;		java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_percent_achievement &#x3d; &#x28;actual_value &#x2f; target_value&#x29; &#x2a; 100&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#x7d;else if&#x28; value_type_id &#x3d;&#x3d; 2&#x29;&#x7b;&#x2f;&#x2f;Smaller is better &#xd;&#xa;	if&#x28;target_value &#x3d;&#x3d; 0&#x29;&#x7b; &#xd;&#xa;		java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_percent_achievement &#x3d; 100 &#x2b; &#x28;&#x28;&#x28;target_value - actual_value &#x29; &#x2f; target_value &#x29;&#x2a;100&#x29;&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;if&#x28;form_id &#x3d;&#x3d; 1&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quantity&#xd;&#xa;	if&#x28;actual_value &#x3d;&#x3d; 0&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;	else if&#x28;actual_value &#x3e; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 1&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;	else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 2&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 3&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 4&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score5&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 5&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 5&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_score &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#xd;&#xa;	java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29;&#x2f;100&#x3b;&#xd;&#xa;&#x7d;&#x2f;&#x2f;else if&#x28;form_id &#x3d;&#x3d; 2&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quality&#xd;&#xa;&#x2f;&#x2f;	java_score &#x3d; score&#x3b;&#xd;&#xa;&#x2f;&#x2f;	java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2f;&#x7d;else if&#x28;form_id &#x3d;&#x3d; 3&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Deduct&#xd;&#xa;&#x2f;&#x2f;	java_over_value &#x3d; max_value-actual_value&#x3b;&#xd;&#xa;&#x2f;&#x2f;	java_weigh_score &#x3d; &#x28;java_over_value &#x2a; deduct_score_unit&#x29;&#x3b;&#xd;&#xa;	&#xd;&#xa;&#x2f;&#x2f;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>311</xloc>
      <yloc>345</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-calucalute-actual-result_monthly</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 13&#x3a;38&#x3a;17.040</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Filter rows EmpOrg </from><to>Insert &#x2f; Update - monthly_appraisal_item_result - org</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg </from><to>Insert &#x2f; Update - monthly_appraisal_item_result - emp</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Filter rows EmpOrg </to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryOrg</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryEmp</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Filter rows EmpOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>If field value is null</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryEmp</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>280</xloc>
      <yloc>193</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>713</xloc>
      <yloc>82</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>924</xloc>
      <yloc>279</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>280</xloc>
      <yloc>87</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>mjs - make sqlQueryEmp</send_true_to>
<send_false_to>mjs - make sqlQueryOrg</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>514</xloc>
      <yloc>87</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg </name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Insert &#x2f; Update - monthly_appraisal_item_result - emp</send_true_to>
<send_false_to>Insert &#x2f; Update - monthly_appraisal_item_result - org</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>406</xloc>
      <yloc>281</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>506</xloc>
      <yloc>281</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>item_result_id</aggregate>
          <subject>item_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>emp_result_id</aggregate>
          <subject>emp_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>kpi_type_id</aggregate>
          <subject>kpi_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_type_id</aggregate>
          <subject>appraisal_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>year</aggregate>
          <subject>year</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_no</aggregate>
          <subject>period_start_month_no</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_name</aggregate>
          <subject>month_name</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>level_id</aggregate>
          <subject>level_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>chief_emp_id</aggregate>
          <subject>chief_emp_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>position_id</aggregate>
          <subject>position_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>953</xloc>
      <yloc>81</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>item_result_id</aggregate>
          <subject>item_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>emp_result_id</aggregate>
          <subject>emp_result_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>kpi_type_id</aggregate>
          <subject>kpi_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_type_id</aggregate>
          <subject>appraisal_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>year</aggregate>
          <subject>year</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_no</aggregate>
          <subject>appraisal_month_no</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>appraisal_month_name</aggregate>
          <subject>appraisal_month_name</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>level_id</aggregate>
          <subject>level_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>chief_emp_id</aggregate>
          <subject>chief_emp_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>position_id</aggregate>
          <subject>position_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1084</xloc>
      <yloc>172</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>643</xloc>
      <yloc>281</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - monthly_appraisal_item_result - emp</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>monthly_appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>item_id</name>
        <field>item_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>kpi_type_id</name>
        <field>kpi_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>year</name>
        <field>year</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>appraisal_month_no</name>
        <field>appraisal_month_no</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>position_id</name>
        <field>position_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>chief_emp_id</name>
        <field>chief_emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>item_result_id</name>
        <rename>item_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>item_id</name>
        <rename>item_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>kpi_type_id</name>
        <rename>kpi_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>year</rename>
        <update>N</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>appraisal_month_no</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>chief_emp_id</name>
        <rename>chief_emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>position_id</name>
        <rename>position_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>appraisal_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>target_value</name>
        <rename>target_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>643</xloc>
      <yloc>415</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - monthly_appraisal_item_result - org</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>monthly_appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>item_id</name>
        <field>item_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>kpi_type_id</name>
        <field>kpi_type_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>level_id</name>
        <field>level_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>year</name>
        <field>year</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>appraisal_month_no</name>
        <field>appraisal_month_no</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>org_id</name>
        <field>org_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>item_result_id</name>
        <rename>item_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>item_id</name>
        <rename>item_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>kpi_type_id</name>
        <rename>kpi_type_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>level_id</name>
        <rename>level_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>year</name>
        <rename>year</rename>
        <update>N</update>
      </value>
      <value>
        <name>appraisal_month_no</name>
        <rename>appraisal_month_no</rename>
        <update>N</update>
      </value>
      <value>
        <name>org_id</name>
        <rename>org_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>appraisal_month_name</name>
        <rename>appraisal_month_name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>target_value</name>
        <rename>target_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>curdttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>345</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>year</key>
      <key>appraisal_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>403</xloc>
      <yloc>87</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>item_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>kpi_type_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>year</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>appraisal_month_no</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>appraisal_month_name</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>chief_emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>target_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>767</xloc>
      <yloc>280</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>840</xloc>
      <yloc>82</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1084</xloc>
      <yloc>81</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>appraisal_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>342</xloc>
      <yloc>142</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;,month_name&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>406</xloc>
      <yloc>193</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1084</xloc>
      <yloc>279</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryEmp</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and year &#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_month_no &#x3d; &#x27;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>615</xloc>
      <yloc>5</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryOrg</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and year &#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_month_no &#x3d; &#x27;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_type_id &#x3d; &#x27;&#x22;&#x2b;appraisal_type_id&#x2b;&#x22;&#x27; &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>615</xloc>
      <yloc>193</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;er.appraisal_type_id,&#xd;&#xa;ap.appraisal_year as year,&#xd;&#xa;month&#x28;&#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#x29; as appraisal_month_no,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; case when ai.remind_condition_id &#x3d; 1 then 12 else 4 end as target_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;INNER JOIN emp_result er on er.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;inner join appraisal_frequency af on af.frequency_id &#x3d; ap.appraisal_frequency_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;-- and air.org_id &#x3d; 1&#xd;&#xa;group by air.item_result_id,&#xd;&#xa;air.emp_result_id,&#xd;&#xa;er.appraisal_type_id,&#xd;&#xa;air.item_id,&#xd;&#xa;air.kpi_type_id,&#xd;&#xa;air.period_id,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.org_id,&#xd;&#xa;air.level_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.chief_emp_id,&#xd;&#xa;air.position_id,&#xd;&#xa;air.target_value &#x2f; af.frequency_month_value,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;ai.formula_cds_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>164</xloc>
      <yloc>86</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreKpiResult-DeductScore</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 16&#x3a;37&#x3a;06.816</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Add constants</from><to>Update - kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Add constants</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>608</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>480</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>over_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - kpiResult</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>over_value</name>
        <rename>over_value</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT item_result_id&#xd;&#xa;,over_value&#xd;&#xa;,&#x28;over_value &#x2a; deduct_score_unit&#x29; as weigh_score&#xd;&#xa;FROM&#x28;&#xd;&#xa;SELECT ir.item_result_id,&#xd;&#xa;case when ir.max_value - ir.actual_value &#x3e; 0 then 0 else ir.max_value - ir.actual_value end as over_value,&#xd;&#xa;deduct_score_unit&#xd;&#xa;FROM appraisal_item_result ir&#xd;&#xa;inner join appraisal_item i on ir.item_id &#x3d; i.item_id&#xd;&#xa;inner join appraisal_structure s on s.structure_id &#x3d; i.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; s.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; ir.period_id &#xd;&#xa;where fy.form_id &#x3d; 3&#xd;&#xa;and ir.actual_value is not null&#xd;&#xa;and ir.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	-- where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;    -- and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;&#x29;Deduct</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreStructureResult-Calculate-score-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;30.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 18&#x3a;40&#x3a;59.370</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - structure_result</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>537</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>680</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>393</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT ai.structure_id&#xd;&#xa;,er.period_id&#xd;&#xa;,er.level_id&#xd;&#xa;,er.org_id&#xd;&#xa;,er.emp_id&#xd;&#xa;,er.position_id&#xd;&#xa;,sum&#x28;air.weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;,0 as nof_target_score&#xd;&#xa;,ac.weight_percent&#x2a;4&#x2f;100 as weight_percent_deduct_score&#xd;&#xa;-- ,sum&#x28;air.weigh_score&#x29;-&#x28;ac.weight_percent&#x29; as weigh_score&#xd;&#xa;,CASE&#xd;&#xa;	WHEN sum&#x28;air.weigh_score&#x29; &#x3d; 0 THEN &#x28;ac.weight_percent&#x29;&#x2a;4&#x2f;100&#xd;&#xa;	WHEN &#x28;&#x28;ac.weight_percent&#x29;&#x2a;4&#x2f;100&#x29; &#x2b; &#x28;sum&#x28;air.weigh_score&#x29;&#x29; &#x3c; 0 THEN 0&#xd;&#xa;    ELSE &#x28;&#x28;ac.weight_percent&#x29;&#x2a;4&#x2f;100&#x29; &#x2b; &#x28;sum&#x28;air.weigh_score&#x29;&#x29;&#xd;&#xa;    END as weigh_score&#xd;&#xa;-- ,&#x28;ac.weight_percent&#x2a;&#x28;SELECT max_score FROM system_config&#x29;&#x2f;100&#x29; &#x2b; sum&#x28;air.weigh_score&#x29; as weigh_score&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_criteria ac on ac.structure_id &#x3d; astr.structure_id &#xd;&#xa;and ac.appraisal_level_id &#x3d; er.level_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where fy.form_id &#x3d; 3&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where -- ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	-- and &#xd;&#xa;    ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by ai.structure_id&#xd;&#xa;,er.period_id&#xd;&#xa;,er.level_id&#xd;&#xa;,er.org_id&#xd;&#xa;,er.emp_id&#xd;&#xa;,er.position_id &#xd;&#xa;&#x2f;&#x2a; &#xd;&#xa;SELECT&#xd;&#xa;sr.period_id,&#xd;&#xa;e.level_id,&#xd;&#xa;e.org_id,&#xd;&#xa;sr.emp_id,&#xd;&#xa;e.position_id,&#xd;&#xa;Sum&#x28;sr.weigh_score&#x29; AS result_score&#xd;&#xa;FROM&#xd;&#xa;structure_result AS sr&#xd;&#xa;INNER JOIN emp_result e on sr.emp_id &#x3d; e.emp_id&#xd;&#xa;WHERE&#xd;&#xa;sr.period_id IN &#x28;&#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	-- where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;    -- and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#x29;&#xd;&#xa;GROUP BY&#xd;&#xa;sr.period_id,&#xd;&#xa;e.level_id,&#xd;&#xa;e.org_id,&#xd;&#xa;sr.emp_id,&#xd;&#xa;e.position_id&#xd;&#xa;&#x2a;&#x2f;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>196</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>ScoreStructureResult-Calculate-score-not-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;34.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 09&#x3a;47&#x3a;13.552</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Filter rows EmpOrg </to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg </from><to>Insert &#x2f; Update - structure_result_emp</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg </from><to>Insert &#x2f; Update - structure_result_org</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Filter rows EmpOrg </name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Insert &#x2f; Update - structure_result_emp</send_true_to>
<send_false_to>Insert &#x2f; Update - structure_result_org</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>639</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>496</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result_emp</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>810</xloc>
      <yloc>135</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result_org</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>810</xloc>
      <yloc>335</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>emp_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id&#xd;&#xa;, sum&#x28;weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;, astr.nof_target_score&#xd;&#xa;, 0 as weight_percent_deduct_score&#xd;&#xa;-- , sum&#x28;weigh_score&#x29;&#x2f;astr.nof_target_score as weigh_score&#xd;&#xa;, sum&#x28;weigh_score&#x29; as weigh_score&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where fy.form_id &#x21;&#x3d; 3&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	 where -- ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	 -- and &#xd;&#xa;	ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>SummaryScoreEmpResult-result_score</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;35.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 14&#x3a;20&#x3a;49.327</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Update</to><enabled>Y</enabled> </hop>
  <hop> <from>structure_result</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>320</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>emp_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>result_score</name>
        <rename>result_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>etl_dttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>structure_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>&#x2f;&#x2a; SELECT structure_result.period_id&#xd;&#xa;,structure_result.level_id&#xd;&#xa;,structure_result.org_id&#xd;&#xa;,structure_result.emp_id&#xd;&#xa;,structure_result.position_id&#xd;&#xa;,sum&#x28;structure_result.weigh_score&#x29; as result_score&#xd;&#xa;FROM &#x60;structure_result&#x60;&#xd;&#xa;where structure_result.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;group by structure_result.period_id&#xd;&#xa;,structure_result.level_id&#xd;&#xa;,structure_result.org_id&#xd;&#xa;,structure_result.emp_id&#xd;&#xa;,structure_result.position_id &#x2a;&#x2f;&#xd;&#xa;&#x2f;&#x2a;&#xd;&#xa;SELECT&#xd;&#xa;e.emp_result_id,&#xd;&#xa;sr.period_id,&#xd;&#xa;e.level_id,&#xd;&#xa;e.org_id,&#xd;&#xa;sr.emp_id,&#xd;&#xa;e.position_id,&#xd;&#xa;Sum&#x28;sr.weigh_score&#x29; AS result_score&#xd;&#xa;FROM&#xd;&#xa;structure_result AS sr&#xd;&#xa;INNER JOIN emp_result e on sr.emp_result_id &#x3d; e.emp_result_id&#xd;&#xa;WHERE&#xd;&#xa;sr.period_id IN &#x28;&#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	-- where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;&#x29;&#x29;&#xd;&#xa;&#xd;&#xa;GROUP BY&#xd;&#xa;e.emp_result_id,&#xd;&#xa;sr.period_id,&#xd;&#xa;e.level_id,&#xd;&#xa;e.org_id,&#xd;&#xa;sr.emp_id,&#xd;&#xa;e.position_id&#xd;&#xa;&#x2a;&#x2f;&#xd;&#xa;&#xd;&#xa;SELECT sr.emp_result_id,&#xd;&#xa;sum&#x28;sr.weigh_score&#x29; as result_score&#xd;&#xa;FROM &#x60;structure_result&#x60; sr&#xd;&#xa;WHERE&#xd;&#xa;sr.period_id IN &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	-- where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;AND sr.emp_result_id IS NOT NUll&#xd;&#xa;group by sr.emp_result_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>SummaryWeightEmpResult-result_score</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;35.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 14&#x3a;21&#x3a;20.807</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>result_score</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Update</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>320</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>emp_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>result_score</name>
        <rename>result_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>etl_dttm</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>result_score</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>&#x2f;&#x2a;SELECT appraisal_item_result.emp_result_id,&#xd;&#xa;sum&#x28;appraisal_item_result.weigh_score&#x29; as result_score&#xd;&#xa;FROM &#x60;appraisal_item_result&#x60;&#xd;&#xa;group by appraisal_item_result.emp_result_id&#x2a;&#x2f;&#xd;&#xa;SELECT sr.emp_result_id,&#xd;&#xa;sum&#x28;sr.weigh_score&#x29; as result_score&#xd;&#xa;FROM &#x60;structure_result&#x60; sr&#xd;&#xa;WHERE&#xd;&#xa;sr.period_id IN &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	-- where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;&#x29;&#xd;&#xa;AND sr.emp_result_id IS NOT NUll&#xd;&#xa;group by sr.emp_result_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>Update - remind_flag</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user/>
  <created_date>2560&#x2f;11&#x2f;03 16&#x3a;28&#x3a;05.583</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 11&#x3a;14&#x3a;01.442</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Table input - remind_flag</from><to>Update - remind_flag</to><enabled>Y</enabled> </hop>
  <hop> <from>Table input - remind_flag</from><to>update etl_start_dttm 2</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Table input - remind_flag</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT monthly_appraisal_item_result.item_result_id,&#xd;&#xa;case when monthly_appraisal_item_result.target_value &#x3e; monthly_appraisal_item_result.actual_value then 1 else 0 end remind_flag&#xd;&#xa;FROM monthly_appraisal_item_result</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>197</xloc>
      <yloc>215</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - remind_flag</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>monthly_appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>remind_flag</name>
        <rename>remind_flag</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>398</xloc>
      <yloc>215</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>update etl_start_dttm 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>Update job_log&#xd;&#xa;Set etl_start_dttm &#x3d; &#x22;2017-01-01&#x22;&#xd;&#xa;, etl_finish_dttm &#x3d; &#x22;2017-10-01&#x22;&#xd;&#xa;, param_start_date &#x3d; &#x22;2017-01-01&#x22;&#xa;where job_log_id &#x3d; 2</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>362</xloc>
      <yloc>318</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-calucalute-actual-result</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value>2017-01-01</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;28.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 15&#x3a;29&#x3a;04.172</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>need period_start_year &#x26; period_end_year&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</note>
      <xloc>187</xloc>
      <yloc>42</yloc>
      <width>290</width>
      <heigth>170</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>No Weight</note>
      <xloc>52</xloc>
      <yloc>422</yloc>
      <width>82</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Weight TFG</note>
      <xloc>233</xloc>
      <yloc>432</yloc>
      <width>87</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>GHB</note>
      <xloc>1066</xloc>
      <yloc>447</yloc>
      <width>40</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>mjs - make sqlQueryEmp</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - make sqlQueryOrg</from><to>Dynamic SQL - query CdsValue</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows EmpOrg</from><to>mjs - make sqlQueryEmp</to><enabled>Y</enabled> </hop>
  <hop> <from>get end_year_month</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>get start_year_month</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - item_result_id</from><to>mjs - get value &#x2f; replace</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows </from><to>Group by - item_result_id</to><enabled>Y</enabled> </hop>
  <hop> <from>Group by - cds_value</from><to>Sort rows </to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows</from><to>Group by - cds_value</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query CdsValue</from><to>Sort rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Dummy &#x28;do nothing&#x29;</to><enabled>Y</enabled> </hop>
  <hop> <from>mjs - get value &#x2f; replace</from><to>Dynamic SQL - query kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Filter rows</to><enabled>Y</enabled> </hop>
  <hop> <from>Filter rows</from><to>Sort rows - start_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - start_month_no</from><to>Merge Join - Start</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - Start</from><to>Sort rows - end_month_no</to><enabled>Y</enabled> </hop>
  <hop> <from>Sort rows - end_month_no</from><to>Merge Join - End</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Dynamic SQL - query kpiResult</from><to>flag_threshold</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold</from><to>flag_threshold &#x3d; 1</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>Merge Join - End</from><to>Filter rows EmpOrg</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</from><to>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 1</from><to>Dummy &#x28;do nothing&#x29; 2</to><enabled>Y</enabled> </hop>
  <hop> <from>flag_threshold &#x3d; 0</from><to>Dummy &#x28;do nothing&#x29; 2</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>874</xloc>
      <yloc>671</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_SEE_KPI</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>153</xloc>
      <yloc>652</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29;</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>196</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy &#x28;do nothing&#x29; 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>653</xloc>
      <yloc>459</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query CdsValue</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28;cds_value as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value  from cds_result</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>sqlQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>762</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dynamic SQL - query kpiResult</name>
    <type>DynamicSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <rowlimit>0</rowlimit>
    <sql>select cast&#x28; 19999.99 as decimal&#x28;12,2&#x29;&#x29; as actual_value</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <sql_fieldname>resultQuery</sql_fieldname>
    <query_only_on_change>N</query_only_on_change>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>654</xloc>
      <yloc>264</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Sort rows - start_month_no</send_true_to>
<send_false_to>Dummy &#x28;do nothing&#x29;</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>formula_cds_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>formula_cds_id</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text/><length>-1</length><precision>-1</precision><isnull>Y</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>123</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filter rows EmpOrg</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>mjs - make sqlQueryEmp</send_true_to>
<send_false_to>mjs - make sqlQueryOrg</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>emp_id</leftvalue>
 <function>IS NOT NULL</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>533</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1287</xloc>
      <yloc>671</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>529</xloc>
      <yloc>652</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - cds_value</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
        <field>
          <name>period_id</name>
        </field>
        <field>
          <name>org_id</name>
        </field>
        <field>
          <name>emp_id</name>
        </field>
        <field>
          <name>item_id</name>
        </field>
        <field>
          <name>cds_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>appraisal_type_id</aggregate>
          <subject>appraisal_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>form_id</aggregate>
          <subject>form_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>SUM</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score</aggregate>
          <subject>score</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1101</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by - item_result_id</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>item_result_id</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>appraisal_type_id</aggregate>
          <subject>appraisal_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>form_id</aggregate>
          <subject>form_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_value</aggregate>
          <subject>cds_value</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>cds_id</aggregate>
          <subject>cds_id</subject>
          <type>CONCAT_COMMA</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>formula_cds_id</aggregate>
          <subject>formula_cds_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_no_weight</aggregate>
          <subject>flag_no_weight</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>flag_threshold</aggregate>
          <subject>flag_threshold</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score0</aggregate>
          <subject>score0</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score1</aggregate>
          <subject>score1</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score2</aggregate>
          <subject>score2</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score3</aggregate>
          <subject>score3</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score4</aggregate>
          <subject>score4</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score5</aggregate>
          <subject>score5</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>score</aggregate>
          <subject>score</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>value_type_id</aggregate>
          <subject>value_type_id</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>target_value</aggregate>
          <subject>target_value</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
        <field>
          <aggregate>weight_percent</aggregate>
          <subject>weight_percent</subject>
          <type>FIRST</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1098</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1278</xloc>
      <yloc>578</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>If field value is null - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <replaceAllByValue/>
      <replaceAllMask/>
      <selectFields>Y</selectFields>
      <selectValuesType>N</selectValuesType>
      <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>actual_value</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>531</xloc>
      <yloc>559</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - End</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - end_month_no</step1>
<step2>get end_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>end_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_end_year</key>
      <key>end_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>408</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Merge Join - Start</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - start_month_no</step1>
<step2>get start_year_month</step2>
    <keys_1>
      <key>appraisal_year</key>
      <key>start_month_no</key>
    </keys_1>
    <keys_2>
      <key>period_start_year</key>
      <key>start_month_id</key>
    </keys_2>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>246</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>874</xloc>
      <yloc>578</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>actual_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>java_percent_achievement</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>actual_value</name>
        <rename>actual_value</rename>
        <type>None</type>
        <length>12</length>
        <precision>2</precision>
        <conversion_mask>0.00</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>153</xloc>
      <yloc>559</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>cds_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>915</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows </name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>period_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>org_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>emp_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_id</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1098</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - end_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>end_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>326</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Sort rows - start_month_no</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <sort_size>1000000</sort_size>
      <free_memory/>
      <compress>N</compress>
      <compress_variable/>
      <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>start_month_no</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <presorted>N</presorted>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>134</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>874</xloc>
      <yloc>801</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>item_result_id</name>
        <field>item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>actual_value</name>
        <rename>actual_value</rename>
        </value>
      <value>
        <name>percent_achievement</name>
        <rename>java_percent_achievement</rename>
        </value>
      <value>
        <name>score</name>
        <rename>java_score</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>java_weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>153</xloc>
      <yloc>767</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_threshold</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>flag_threshold &#x3d; 1</target_step>
</case><case><value>0</value>
<target_step>flag_threshold &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>654</xloc>
      <yloc>365</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 0</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step/>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29; 2</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1072</xloc>
      <yloc>365</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>flag_threshold &#x3d; 1</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>flag_no_weight</fieldname>
<use_contains>N</use_contains>
<case_value_type>Integer</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</default_target_step>
<cases><case><value>1</value>
<target_step>Dummy &#x28;do nothing&#x29; 2</target_step>
</case><case><value>0</value>
<target_step>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>267</xloc>
      <yloc>365</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get end_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_end_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_end_month_no&#xd;&#xa;,month_id as end_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>408</xloc>
      <yloc>196</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>get start_year_month</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT current_appraisal_year as period_start_year&#xd;&#xa;,case &#xd;&#xa;		when period_start_month_id &#x3d; 1 then month_id&#xd;&#xa;		when month_id &#x3e;&#x3d; period_start_month_id &#xd;&#xa;				then month_id - no_of  &#xd;&#xa;				else month_id &#x2b; no_of&#xd;&#xa;end as period_start_month_no&#xd;&#xa;,month_id as start_month_id&#xd;&#xa;from&#x28;&#xd;&#xa;	SELECT current_appraisal_year,&#xd;&#xa;	pm.month_id,&#xd;&#xa;	pm.month_name,&#xd;&#xa;	sc.period_start_month_id,&#xd;&#xa;	case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;	FROM period_month pm ,system_config sc&#xd;&#xa;&#x29;main&#xd;&#xa;left join &#x28;&#xd;&#xa;	SELECT case when m &#x3d; 0 then 1 else 0 end as m&#xd;&#xa;	,count&#x28;&#x2a;&#x29; as no_of&#xd;&#xa;	from&#x28;&#xd;&#xa;		SELECT case when pm.month_id &#x3e;&#x3d; sc.period_start_month_id then 1 else 0 end as m&#xd;&#xa;		FROM period_month pm ,system_config sc&#xd;&#xa;	&#x29;f&#xd;&#xa;	group by m&#xd;&#xa;&#x29;sub on sub.m &#x3d; main.m&#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>249</xloc>
      <yloc>196</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - get value &#x2f; replace</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var formulaString &#x3d; formula_cds_id&#x3b;&#xa;&#x2f;&#x2f;setting default state&#xa;var cdsUsedList &#x3d; formulaString.match&#x28;&#x2f;&#x5c;&#x5b;&#x28;sum&#x7c;max&#x29;&#x3a;cds&#x5b;0-9&#x5d;&#x2a;&#x5c;&#x5d;&#x2f;g&#x29;&#x3b;&#xa;var cdsIdList &#x3d; replace&#x28;cds_id,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;var cdsValList &#x3d; replace&#x28;cds_value,&#x22; &#x22;,&#x22;&#x22;&#x29;.split&#x28;&#x22;,&#x22;&#x29;&#x3b; &#xa;&#xa;&#x2f;&#x2f;execute&#xa;for&#x28;var i&#x3d;0&#x3b;i&#x3c;cdsUsedList.length&#x3b;i&#x2b;&#x2b;&#x29;&#x7b;&#xa;	var posCdsIdStart &#x3d; indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;cds&#x22;&#x29;&#x2b;3&#x3b;&#xa;	var posCdsIdEnd &#x3d;  indexOf&#x28;cdsUsedList&#x5b;i&#x5d;,&#x22;&#x5d;&#x22;&#x29;&#x3b;&#xa;	var cdsId &#x3d;  substr&#x28;cdsUsedList&#x5b;i&#x5d;,posCdsIdStart,posCdsIdEnd-posCdsIdStart&#x29;&#x3b;	&#xa;	var ix &#x3d; cdsIdList.indexOf&#x28;cdsId&#x29;&#x3b;&#xa;	&#x2f;&#x2f; end get arCdsId&#xa;	formulaString &#x3d; formulaString.replace&#x28;cdsUsedList&#x5b;i&#x5d;,cdsValList&#x5b;ix&#x5d;&#x29;&#x3b;&#xa;&#x7d;&#xa;&#xa;var resultQuery &#x3d; &#x22;select cast&#x28;&#x22;&#x2b;formulaString&#x2b;&#x22; as decimal&#x28;12,2&#x29; &#x29; result from dual&#x22;&#x3b;&#xa;resultQuery &#x3d; replace&#x28;resultQuery,&#x22;undefined&#x22;,0&#x29;&#x3b;&#xd;&#xa;&#x2f;&#x2f; field name </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>formulaString</name>
        <rename>formulaString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsUsedList</name>
        <rename>cdsUsedList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsIdList</name>
        <rename>cdsIdList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>cdsValList</name>
        <rename>cdsValList</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>resultQuery</name>
        <rename>resultQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>912</xloc>
      <yloc>265</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryEmp</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;if&#x28;cds_type &#x3d;&#x3d; &#x27;s&#x27;&#x29;&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.appraisal_month_no &#x3d; &#x28; &#x22;&#xd;&#xa;	&#x2b;&#x22; select max&#x28;appraisal_month_no&#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and emp_id&#x3d;&#x22;&#x2b;emp_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_value &#x21;&#x3d; 0  &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>654</xloc>
      <yloc>1</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>mjs - make sqlQueryOrg</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var selectFunction &#x3d; &#x5b;&#x22;sum&#x28;cds_value&#x29;&#x22;,&#x22;max&#x28;cds_value&#x29;&#x22;&#x5d;&#x3b; &#x2f;&#x2f; default sum&#xd;&#xa;var selectString &#x3d; selectFunction&#x5b;accum_flag&#x5d;&#x3b;&#xd;&#xa;&#xd;&#xa;var sqlQuery &#x3d; &#x22; select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id &#x3d; &#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;&#xd;&#xa;if&#x28;cds_type &#x3d;&#x3d; &#x27;s&#x27;&#x29;&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_type_id&#x3d;&#x22;&#x2b;appraisal_type_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3e;&#x3d; &#x27;&#x22;&#x2b;period_start_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_start_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; and date&#x28;concat&#x28;cds_result.&#x60;year&#x60;,&#x27;-&#x27;,cds_result.appraisal_month_no,&#x27;-&#x27;,01&#x29;&#x29; &#x3c;&#x3d; &#x27;&#x22;&#x2b;period_end_year&#x2b;&#x22;&#x22;&#x2b;&#x27;-&#x27;&#x2b;&#x22;&#x22;&#x2b;period_end_month_no&#x2b;&#x22;&#x22;&#x2b;&#x27;-01&#x27;&#x2b;&#x22;&#x27;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;else&#x7b;&#xd;&#xa;&#xd;&#xa;	var sqlQuery &#x3d; &#x22;select cast&#x28;ifnull&#x28;result.cds_value,defaultValue.cds_value&#x29; as DECIMAL&#x28;12,2&#x29;&#x29; as cds_value&#x22;&#xd;&#xa;	&#x2b;&#x22; from &#x28;select 0.00 as cds_value&#x29; defaultValue left join &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x28;select &#x22;&#x2b;selectString&#x2b;&#x22; as cds_value &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.appraisal_month_no &#x3d; &#x28; &#x22;&#xd;&#xa;	&#x2b;&#x22; select max&#x28;appraisal_month_no&#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; from cds_result &#x22;&#xd;&#xa;	&#x2b;&#x22; where cds_id&#x3d;&#x22;&#x2b;cds_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and org_id&#x3d;&#x22;&#x2b;org_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_result.&#x60;year&#x60;&#x3d;&#x22;&#x2b;period_start_year&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and appraisal_type_id&#x3d;&#x22;&#x2b;appraisal_type_id&#x2b;&#x22; &#x22;&#xd;&#xa;	&#x2b;&#x22; and cds_value &#x21;&#x3d; 0  &#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; &#x29; result on defaultValue.cds_value &#x21;&#x3d; result.cds_value&#x22;&#xd;&#xa;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;	&#x22; and &#x28; case when year&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x3c; year&#x28; &#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x22;&#xd;&#xa;	&#x2b;&#x22; then &#x28;&#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and 12&#x29; or &#x28;appraisal_month_no BETWEEN 1 AND month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29;&#x29; &#x29; &#x22;&#xd;&#xa;	&#x2b;&#x22; else &#x28;appraisal_month_no BETWEEN month&#x28;&#x5c;&#x22;&#x22;&#x2b;start_date&#x2b;&#x22;&#x5c;&#x22;&#x29; and month&#x28;&#x5c;&#x22;&#x22;&#x2b;end_date&#x2b;&#x22;&#x5c;&#x22;&#x29; &#x29; end&#x29;&#x22;&#x2a;&#x2f;</jsScript_script>
      </jsScript>      <jsScript>        <jsScript_type>-1</jsScript_type>
        <jsScript_name>abs_Sample</jsScript_name>
        <jsScript_script>&#x2f;&#x2f; Returns the absolute value of a given numeric.&#xa;&#x2f;&#x2f;&#xa;&#x2f;&#x2f; Usage&#x3a;&#xa;&#x2f;&#x2f; abs&#x28;var&#x29;&#x3b;&#xa;&#x2f;&#x2f; 1&#x3a; Numeric - The Variable with the Numeric&#xa;&#x2f;&#x2f; &#xa;&#x2f;&#x2f; 2006-11-15&#xa;&#x2f;&#x2f;&#xa;var d1 &#x3d; -1234.01&#x3b;&#xa;var d2 &#x3d; 1234.01&#x3b;&#xa;Alert&#x28;abs&#x28;d1&#x29;&#x29;&#x3b;&#xa;Alert&#x28;abs&#x28;d2&#x29;&#x29;&#x3b;&#xa;      </jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sqlQuery</name>
        <rename>sqlQuery</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>selectString</name>
        <rename>selectString</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>654</xloc>
      <yloc>157</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT air.item_result_id,&#xd;&#xa;al.no_weight as flag_no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29; as flag_threshold,&#xd;&#xa;er.appraisal_type_id,&#xd;&#xa;air.item_id,&#xd;&#xa;astr.form_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29; as formula_cds_id,&#xd;&#xa;0 as accum_flag,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;air.score,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;month&#x28;ap.start_date&#x29; as start_month_no,&#xd;&#xa;month&#x28;ap.end_date&#x29; as end_month_no,&#xd;&#xa;-- air.actual_value as actual_value_new,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;SUBSTR&#x28;ai.formula_cds_id,2,1&#x29; as cds_type&#xd;&#xa;FROM appraisal_item_result air&#xd;&#xa;INNER JOIN emp_result er on er.emp_result_id &#x3d; air.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_item_level ail on ail.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_level al on al.level_id &#x3d; ail.level_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join kpi_cds_mapping kcm on kcm.item_id &#x3d; ai.item_id&#xd;&#xa;inner join appraisal_period ap on ap.period_id &#x3d; air.period_id&#xd;&#xa;where air.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;and astr.form_id &#x3d; 1&#xd;&#xa;group by air.item_result_id,&#xd;&#xa;al.no_weight,&#xd;&#xa;&#x28;SELECT system_config.threshold FROM system_config&#x29;,&#xd;&#xa;er.appraisal_type_id,&#xd;&#xa;air.item_id,&#xd;&#xa;kcm.cds_id,&#xd;&#xa;air.emp_id,&#xd;&#xa;air.org_id,&#xd;&#xa;air.period_id,&#xd;&#xa;REPLACE&#x28;ai.formula_cds_id, &#x27;last&#x27;, &#x27;sum&#x27;&#x29;,&#xd;&#xa;ap.appraisal_year,&#xd;&#xa;air.score0,&#xd;&#xa;air.score1,&#xd;&#xa;air.score2,&#xd;&#xa;air.score3,&#xd;&#xa;air.score4,&#xd;&#xa;air.score5,&#xd;&#xa;ai.value_type_id,&#xd;&#xa;month&#x28;ap.start_date&#x29;,&#xd;&#xa;month&#x28;ap.end_date&#x29;,&#xd;&#xa;air.target_value,&#xd;&#xa;air.weight_percent,&#xd;&#xa;SUBSTR&#x28;ai.formula_cds_id,2,1&#x29;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>25</xloc>
      <yloc>78</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; 0&#x3b;&#xd;&#xa;if&#x28; value_type_id &#x3d;&#x3d; 1&#x29;&#x7b; &#x2f;&#x2f;Bigger is better&#xd;&#xa;	if&#x28;target_value &#x3d;&#x3d; 0&#x29;&#x7b; &#xd;&#xa;		java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_percent_achievement &#x3d; &#x28;actual_value &#x2f; target_value&#x29; &#x2a; 100&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;	&#xd;&#xa;&#x7d;else if&#x28; value_type_id &#x3d;&#x3d; 2&#x29;&#x7b;&#x2f;&#x2f;Smaller is better &#xd;&#xa;	if&#x28;target_value &#x3d;&#x3d; 0&#x29;&#x7b; &#xd;&#xa;		java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_percent_achievement &#x3d; 100 &#x2b; &#x28;&#x28;&#x28;target_value - actual_value &#x29; &#x2f; target_value &#x29;&#x2a;100&#x29;&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;java_weigh_score &#x3d; &#x28;java_percent_achievement &#x2a; weight_percent&#x29; &#x2f; 100&#x3b;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1072</xloc>
      <yloc>477</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>threshold &#x3d; 1 &#x7c; no_weight &#x3d; 0</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;var java_score &#x3d; 0&#x3b;&#xd;&#xa;var java_weigh_score &#x3d; 0&#x3b;&#xd;&#xa;if&#x28; value_type_id &#x3d;&#x3d; 1&#x29;&#x7b; &#x2f;&#x2f;Bigger is better&#xd;&#xa;	if&#x28;target_value &#x3d;&#x3d; 0&#x29;&#x7b; &#xd;&#xa;		java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_percent_achievement &#x3d; &#x28;actual_value &#x2f; target_value&#x29; &#x2a; 100&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#x7d;else if&#x28; value_type_id &#x3d;&#x3d; 2&#x29;&#x7b;&#x2f;&#x2f;Smaller is better &#xd;&#xa;	if&#x28;target_value &#x3d;&#x3d; 0&#x29;&#x7b; &#xd;&#xa;		java_percent_achievement &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_percent_achievement &#x3d; 100 &#x2b; &#x28;&#x28;&#x28;target_value - actual_value &#x29; &#x2f; target_value &#x29;&#x2a;100&#x29;&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;if&#x28;form_id &#x3d;&#x3d; 1&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quantity&#xd;&#xa;	if&#x28;actual_value &#x3d;&#x3d; 0&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;	else if&#x28;actual_value &#x3e; score0 &#x26;&#x26; actual_value &#x3c; score1&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 1&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;	else if&#x28;actual_value &#x3e;&#x3d; score1 &#x26;&#x26; actual_value &#x3c; score2&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 2&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score2 &#x26;&#x26; actual_value &#x3c; score3&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 3&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score3 &#x26;&#x26; actual_value &#x3c; score4&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 4&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score4 &#x26;&#x26; actual_value &#x3c; score5&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 5&#x3b;&#xd;&#xa;	&#x7d;else if&#x28;actual_value &#x3e;&#x3d; score5&#x29;&#x7b;&#xd;&#xa;		java_score &#x3d; 5&#x3b;&#xd;&#xa;	&#x7d;else&#x7b;&#xd;&#xa;		java_score &#x3d; 0&#x3b;&#xd;&#xa;	&#x7d;&#xd;&#xa;&#xd;&#xa;	java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29;&#x3b;&#xd;&#xa;&#x7d;&#x2f;&#x2f;else if&#x28;form_id &#x3d;&#x3d; 2&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Quality&#xd;&#xa;&#x2f;&#x2f;	java_score &#x3d; score&#x3b;&#xd;&#xa;&#x2f;&#x2f;	java_weigh_score &#x3d; &#x28;java_score &#x2a; weight_percent&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2f;&#x7d;else if&#x28;form_id &#x3d;&#x3d; 3&#x29;&#x7b;&#xd;&#xa;&#x2f;&#x2f; Deduct&#xd;&#xa;&#x2f;&#x2f;	java_over_value &#x3d; max_value-actual_value&#x3b;&#xd;&#xa;&#x2f;&#x2f;	java_weigh_score &#x3d; &#x28;java_over_value &#x2a; deduct_score_unit&#x29;&#x3b;&#xd;&#xa;	&#xd;&#xa;&#x2f;&#x2f;&#x7d;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>java_percent_achievement</name>
        <rename>java_percent_achievement</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_score</name>
        <rename>java_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>java_weigh_score</name>
        <rename>java_weigh_score</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>267</xloc>
      <yloc>456</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>Update - threshold &#x3d; 0 &#x7c; no_weight &#x3d; 0</source_step>
        <target_step/>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightKpiResult-DeductScore</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;18.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;47&#x3a;00.000</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Add constants</from><to>Update - kpiResult</to><enabled>Y</enabled> </hop>
  <hop> <from>Get System Info</from><to>Add constants</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>select kpi result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Add constants</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>owner</name>
        <type>String</type>
        <format>&#x23;</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif>ETL_TYW</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>608</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>curdttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>480</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>appraisal_item_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>over_value</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update - kpiResult</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>appraisal_item_result</table>
      <key>
        <name>appraisal_item_result_id</name>
        <field>appraisal_item_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>over_value</name>
        <rename>over_value</rename>
        </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        </value>
      <value>
        <name>updated_dttm</name>
        <rename>curdttm</rename>
        </value>
      <value>
        <name>updated_by</name>
        <rename>owner</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>select kpi result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT appraisal_item_result_id&#xd;&#xa;,over_value&#xd;&#xa;,over_value &#x2a; deduct_score_unit as weigh_score&#xd;&#xa;FROM&#x28;&#xd;&#xa;SELECT ir.appraisal_item_result_id,&#xd;&#xa;case when ir.max_value - ir.actual_value &#x3e; 0 then 0 else ir.max_value - ir.actual_value end as over_value,&#xd;&#xa;deduct_score_unit&#xd;&#xa;FROM appraisal_item_result ir&#xd;&#xa;inner join appraisal_item i on ir.appraisal_item_id &#x3d; i.appraisal_item_id&#xd;&#xa;inner join appraisal_structure s on s.structure_id &#x3d; i.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; s.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; ir.period_id &#xd;&#xa;where fy.form_name &#x3d; &#x27;Deduct Score&#x27;&#xd;&#xa;and ir.actual_value is not null&#xd;&#xa;and ap.start_date &#x3c;&#x3d; &#x28;SYSDATE&#x28;&#x29;- INTERVAL 1 DAY&#x29; and ap.end_date &#x3e;&#x3d; &#x28;SYSDATE&#x28;&#x29;- INTERVAL 1 DAY&#x29; &#xd;&#xa;&#x29;Deduct</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightStructureResult-Calculate-score-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;30.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 17&#x3a;18&#x3a;34.999</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - structure_result</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>537</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>emp_id</name>
        <field>emp_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>680</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>level_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>org_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>position_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>393</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT ai.structure_id&#xd;&#xa;,er.period_id&#xd;&#xa;,er.level_id&#xd;&#xa;,er.org_id&#xd;&#xa;,er.emp_id&#xd;&#xa;,er.position_id&#xd;&#xa;,sum&#x28;air.weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;,0 as nof_target_score&#xd;&#xa;,ac.weight_percent as weight_percent_deduct_score&#xd;&#xa;-- ,sum&#x28;air.weigh_score&#x29;-&#x28;ac.weight_percent&#x29; as weigh_score&#xd;&#xa;,CASE&#xd;&#xa;	WHEN sum&#x28;air.weigh_score&#x29; &#x3d; 0 THEN &#x28;ac.weight_percent&#x29;&#xd;&#xa;	WHEN &#x28;ac.weight_percent&#x29; &#x2b; &#x28;sum&#x28;air.weigh_score&#x29;&#x29; &#x3c; 0 THEN 0&#xd;&#xa;    ELSE &#x28;ac.weight_percent&#x29; &#x2b; &#x28;sum&#x28;air.weigh_score&#x29;&#x29;&#xd;&#xa;    END as weigh_score&#xd;&#xa;-- ,&#x28;ac.weight_percent&#x2a;&#x28;SELECT max_score FROM system_config&#x29;&#x2f;100&#x29; &#x2b; sum&#x28;air.weigh_score&#x29; as weigh_score&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_criteria ac on ac.structure_id &#x3d; astr.structure_id &#xd;&#xa; and ac.appraisal_level_id &#x3d; er.level_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where fy.form_id &#x3d; 3&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by ai.structure_id&#xd;&#xa;,er.period_id&#xd;&#xa;,er.level_id&#xd;&#xa;,er.org_id&#xd;&#xa;,er.emp_id&#xd;&#xa;,er.position_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>194</xloc>
      <yloc>147</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>WeightStructureResult-Calculate-score-not-deduct</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value>2017-01-01</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;34.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;15 11&#x3a;52&#x3a;54.650</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>kpi_app</name>
    <server>192.168.1.59</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>see-kpi-csp2</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e49b39bd63c9c2bdde</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>3306</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Get System Info</from><to>Insert &#x2f; Update - structure_result</to><enabled>Y</enabled> </hop>
  <hop> <from>Select values</from><to>Get System Info</to><enabled>Y</enabled> </hop>
  <hop> <from>item_result</from><to>Select values</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>etl_dttm</name>
        <type>system date &#x28;fixed&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>496</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert &#x2f; Update - structure_result</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema/>
      <table>structure_result</table>
      <key>
        <name>emp_result_id</name>
        <field>emp_result_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>period_id</name>
        <field>period_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>structure_id</name>
        <field>structure_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>emp_result_id</name>
        <rename>emp_result_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>period_id</name>
        <rename>period_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>emp_id</name>
        <rename>emp_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>structure_id</name>
        <rename>structure_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <update>Y</update>
      </value>
      <value>
        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <update>Y</update>
      </value>
      <value>
        <name>etl_dttm</name>
        <rename>etl_dttm</rename>
        <update>Y</update>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>739</xloc>
      <yloc>161</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>emp_result_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>period_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>emp_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>structure_id</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_score_sum_detail</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>nof_target_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weight_percent_deduct_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>weigh_score</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
      <meta>        <name>weight_score_sum_detail</name>
        <rename>weight_score_sum_detail</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>nof_target_score</name>
        <rename>nof_target_score</rename>
        <type>Integer</type>
        <length>8</length>
        <precision>0</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weight_percent_deduct_score</name>
        <rename>weight_percent_deduct_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>      <meta>        <name>weigh_score</name>
        <rename>weigh_score</rename>
        <type>Number</type>
        <length>5</length>
        <precision>2</precision>
        <conversion_mask>&#x23;,&#x23;&#x23;0.&#x23;&#x23;</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>352</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>item_result</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>kpi_app</connection>
    <sql>SELECT er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id&#xd;&#xa;, sum&#x28;air.weigh_score&#x29; as weight_score_sum_detail&#xd;&#xa;, astr.nof_target_score&#xd;&#xa;, 0 as weight_percent_deduct_score&#xd;&#xa;, case when &#x28;SELECT system_config.threshold FROM system_config&#x29; &#x3d; 1 then sum&#x28;air.weigh_score&#x29; &#x2f; astr.nof_target_score else sum&#x28;air.weigh_score&#x29; end as weigh_score&#xd;&#xa;, count&#x28;ai.structure_id&#x29;&#xd;&#xa;FROM emp_result er&#xd;&#xa;inner join appraisal_item_result air on air.emp_result_id &#x3d; er.emp_result_id&#xd;&#xa;inner join appraisal_item ai on ai.item_id &#x3d; air.item_id&#xd;&#xa;inner join appraisal_structure astr on astr.structure_id &#x3d; ai.structure_id&#xd;&#xa;inner join form_type fy on fy.form_id &#x3d; astr.form_id&#xd;&#xa;inner join appraisal_period ap on  ap.period_id  &#x3d; air.period_id &#xd;&#xa;where fy.form_id &#x21;&#x3d; 3&#xd;&#xa;and status &#x3d; &#x27;accepted&#x27;&#xd;&#xa;and er.period_id in &#x28;&#xd;&#xa;	SELECT ap.period_id&#xd;&#xa;	FROM appraisal_period ap&#xd;&#xa;	where ap.start_date &#x3c;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27; and ap.end_date &#x3e;&#x3d; &#x27;&#x24;&#x7b;param_start_date&#x7d;&#x27;&#xd;&#xa;	and ap.appraisal_year &#x3d; &#x28;select current_appraisal_year from system_config&#x29;&#xd;&#xa;&#x29;&#xd;&#xa;group by er.emp_result_id&#xd;&#xa;, er.period_id&#xd;&#xa;, er.emp_id&#xd;&#xa;, ai.structure_id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>192</xloc>
      <yloc>161</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

</transformations>
<jobs>
<job>
  <name>kpiMainJob - Full</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;32.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;03 16&#x3a;45&#x3a;21.394</modified_date>
    <parameters>
        <parameter>
            <name>param_job_log_id</name>
            <default_value>1</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>doCalculateType - Error</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>doCalculateType</jobname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name>param_start_date</stream_name>
            <value/>
            </parameter>            <parameter>            <name>param_result_type</name>
            <stream_name>param_result_type</stream_name>
            <value/>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>442</xloc>
      <yloc>257</yloc>
      </entry>
    <entry>
      <name>cds</name>
      <description/>
      <type>JOB</type>
      <specification_method>filename</specification_method>
      <job_object_id/>
      <filename/>
      <jobname/>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>299</xloc>
      <yloc>130</yloc>
      </entry>
    <entry>
      <name>mail error</name>
      <description/>
      <type>JOB</type>
      <specification_method>filename</specification_method>
      <job_object_id/>
      <filename/>
      <jobname/>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>582</xloc>
      <yloc>257</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>440</xloc>
      <yloc>384</yloc>
      </entry>
    <entry>
      <name>mail success</name>
      <description/>
      <type>JOB</type>
      <specification_method>filename</specification_method>
      <job_object_id/>
      <filename/>
      <jobname/>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>707</xloc>
      <yloc>130</yloc>
      </entry>
    <entry>
      <name>doCalculateType</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>doCalculateType</jobname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name>param_start_date</stream_name>
            <value/>
            </parameter>            <parameter>            <name>param_result_type</name>
            <stream_name>param_result_type</stream_name>
            <value/>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>442</xloc>
      <yloc>130</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>180</xloc>
      <yloc>257</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>707</xloc>
      <yloc>257</yloc>
      </entry>
    <entry>
      <name>update etl_finish_dttm</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>update etl_finish_dttm</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>582</xloc>
      <yloc>130</yloc>
      </entry>
    <entry>
      <name>update etl_start_dttm</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>update etl_start_dttm</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>299</xloc>
      <yloc>257</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>mail success</from>
      <to>mail error</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_finish_dttm</from>
      <to>mail error</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_start_dttm</from>
      <to>cds</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>mail error</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_start_dttm</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>doCalculateType</from>
      <to>update etl_finish_dttm</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>update etl_start_dttm</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>mail error</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>doCalculateType</from>
      <to>mail error</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>mail success</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_finish_dttm</from>
      <to>mail success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>doCalculateType - Error</from>
      <to>mail error</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>cds</from>
      <to>doCalculateType - Error</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>cds</from>
      <to>doCalculateType</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
    <notepad>
      <note>item result</note>
      <xloc>417</xloc>
      <yloc>96</yloc>
      <width>81</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>CDS Error --&#x3e; run item result&#xd;&#xa;Not Update Finish dttm</note>
      <xloc>345</xloc>
      <yloc>230</yloc>
      <width>200</width>
      <heigth>50</heigth>
      <fontname/>
      <fontsize>-1</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>

</job>

<job>
  <name>kpiMainJob</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;32.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 09&#x3a;53&#x3a;18.742</modified_date>
    <parameters>
        <parameter>
            <name>param_job_log_id</name>
            <default_value>1</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>710</xloc>
      <yloc>92</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>178</xloc>
      <yloc>92</yloc>
      </entry>
    <entry>
      <name>doCalculateType</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>doCalculateType</jobname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name>param_start_date</stream_name>
            <value/>
            </parameter>            <parameter>            <name>param_result_type</name>
            <stream_name>param_result_type</stream_name>
            <value/>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>438</xloc>
      <yloc>92</yloc>
      </entry>
    <entry>
      <name>update etl_start_dttm</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>update etl_start_dttm</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>297</xloc>
      <yloc>92</yloc>
      </entry>
    <entry>
      <name>update etl_finish_dttm</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>update etl_finish_dttm</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>578</xloc>
      <yloc>92</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>438</xloc>
      <yloc>218</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>update etl_finish_dttm</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>doCalculateType</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_finish_dttm</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_start_dttm</from>
      <to>doCalculateType</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>update etl_start_dttm</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>doCalculateType</from>
      <to>update etl_finish_dttm</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_start_dttm</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>kpiMainJob_Monthy</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;32.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 11&#x3a;15&#x3a;04.927</modified_date>
    <parameters>
        <parameter>
            <name>param_job_log_id</name>
            <default_value>2</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>Update - remind_flag</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>Update - remind_flag</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>580</xloc>
      <yloc>220</yloc>
      </entry>
    <entry>
      <name>ScoreKpiResult-calucalute-actual-result_monthly</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-calucalute-actual-result_monthly</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name>param_start_date</stream_name>
            <value/>
            </parameter>            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>377</xloc>
      <yloc>100</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>122</xloc>
      <yloc>220</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>730</xloc>
      <yloc>220</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>468</xloc>
      <yloc>363</yloc>
      </entry>
    <entry>
      <name>loop - monthly</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>loop - monthly</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>468</xloc>
      <yloc>220</yloc>
      </entry>
    <entry>
      <name>update etl_start_dttm</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>update etl_start_dttm</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>298</xloc>
      <yloc>220</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>Update - remind_flag</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Update - remind_flag</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>loop - monthly</from>
      <to>Update - remind_flag</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>loop - monthly</from>
      <to>update etl_start_dttm</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result_monthly</from>
      <to>loop - monthly</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_start_dttm</from>
      <to>ScoreKpiResult-calucalute-actual-result_monthly</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update etl_start_dttm</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>update etl_start_dttm</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateCdsResults</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;31.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 19&#x3a;32&#x3a;29.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>1</default_value>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>464</xloc>
      <yloc>272</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>167</xloc>
      <yloc>139</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>797</xloc>
      <yloc>139</yloc>
      </entry>
    <entry>
      <name>jobStart</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobStart</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>288</xloc>
      <yloc>139</yloc>
      </entry>
    <entry>
      <name>jobSuccess</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobSuccess</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>650</xloc>
      <yloc>139</yloc>
      </entry>
    <entry>
      <name>CdsResults_CdsList</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>CdsResults_CdsList</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>402</xloc>
      <yloc>56</yloc>
      </entry>
    <entry>
      <name>CdsResult_doCalculate</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CdsResult_doCalculate</jobname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>dbname</name>
            <stream_name>dbname</stream_name>
            <value/>
            </parameter>            <parameter>            <name>dbtype</name>
            <stream_name>dbtype</stream_name>
            <value/>
            </parameter>            <parameter>            <name>host</name>
            <stream_name>host</stream_name>
            <value/>
            </parameter>            <parameter>            <name>password</name>
            <stream_name>password</stream_name>
            <value/>
            </parameter>            <parameter>            <name>query</name>
            <stream_name>query</stream_name>
            <value/>
            </parameter>            <parameter>            <name>username</name>
            <stream_name>username</stream_name>
            <value/>
            </parameter>            <parameter>            <name>port</name>
            <stream_name>port</stream_name>
            <value/>
            </parameter>            <parameter>            <name>sql_cds_id</name>
            <stream_name>sql_cds_id</stream_name>
            <value/>
            </parameter>            <parameter>            <name>reject_path</name>
            <stream_name/>
            <value>&#x24;&#x7b;reject_path&#x7d;</value>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>527</xloc>
      <yloc>56</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>CdsResult_doCalculate</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>CdsResults_CdsList</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>jobStart</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>CdsResults_CdsList</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CdsResults_CdsList</from>
      <to>CdsResult_doCalculate</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CdsResult_doCalculate</from>
      <to>jobSuccess</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CdsResults_CdsList</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CdsResult_doCalculate</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateScoreKpiResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;31.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;17 22&#x3a;59&#x3a;20.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>2</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>ScoreKpiResult-calucalute-actual-result_edit</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-calucalute-actual-result_edit</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>305</xloc>
      <yloc>340</yloc>
      </entry>
    <entry>
      <name>ScoreKpiResult-DeductScore</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-DeductScore</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>522</xloc>
      <yloc>340</yloc>
      </entry>
    <entry>
      <name>ScoreKpiResult-calucalute-actual-result</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-calucalute-actual-result</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>411</xloc>
      <yloc>6</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>64</xloc>
      <yloc>81</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>768</xloc>
      <yloc>81</yloc>
      </entry>
    <entry>
      <name>jobStart</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobStart</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>305</xloc>
      <yloc>81</yloc>
      </entry>
    <entry>
      <name>jobSuccess</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobSuccess</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>522</xloc>
      <yloc>81</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>411</xloc>
      <yloc>231</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result</from>
      <to>jobSuccess</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result_edit</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result_edit</from>
      <to>ScoreKpiResult-DeductScore</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>ScoreKpiResult-calucalute-actual-result_edit</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>ScoreKpiResult-calucalute-actual-result</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>jobStart</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-DeductScore</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>ScoreKpiResult-calucalute-actual-result</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-DeductScore</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateScoreStructureResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;40.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 19&#x3a;34&#x3a;30.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>4</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>jobStart</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobStart</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>151</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>jobSuccess</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobSuccess</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>775</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>465</xloc>
      <yloc>253</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>39</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>854</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>ScoreStructureResult-Calculate-score-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreStructureResult-Calculate-score-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>594</xloc>
      <yloc>28</yloc>
      </entry>
    <entry>
      <name>ScoreStructureResult-Calculate-score-not-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreStructureResult-Calculate-score-not-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>325</xloc>
      <yloc>28</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>ScoreStructureResult-Calculate-score-deduct</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>ScoreStructureResult-Calculate-score-not-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>jobStart</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>ScoreStructureResult-Calculate-score-not-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreStructureResult-Calculate-score-not-deduct</from>
      <to>ScoreStructureResult-Calculate-score-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreStructureResult-Calculate-score-deduct</from>
      <to>jobSuccess</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreStructureResult-Calculate-score-not-deduct</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ScoreStructureResult-Calculate-score-deduct</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateWeightKpiResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;31.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 19&#x3a;33&#x3a;48.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>2</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>WeightKpiResult-calucalute-actual-result</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightKpiResult-calucalute-actual-result</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>600</xloc>
      <yloc>77</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>322</xloc>
      <yloc>144</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>907</xloc>
      <yloc>143</yloc>
      </entry>
    <entry>
      <name>jobStart</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobStart</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>434</xloc>
      <yloc>144</yloc>
      </entry>
    <entry>
      <name>jobSuccess</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobSuccess</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>785</xloc>
      <yloc>143</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>600</xloc>
      <yloc>293</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>WeightKpiResult-calucalute-actual-result</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>WeightKpiResult-calucalute-actual-result</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>WeightKpiResult-calucalute-actual-result</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>jobStart</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>WeightKpiResult-calucalute-actual-result</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>WeightKpiResult-calucalute-actual-result</from>
      <to>jobSuccess</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateWeightStructureResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;40.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;10 22&#x3a;57&#x3a;07.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>4</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>WeightStructureResult-Calculate-score-not-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightStructureResult-Calculate-score-not-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>465</xloc>
      <yloc>0</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>854</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>39</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>465</xloc>
      <yloc>253</yloc>
      </entry>
    <entry>
      <name>jobSuccess</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobSuccess</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>775</xloc>
      <yloc>108</yloc>
      </entry>
    <entry>
      <name>jobStart</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobStart</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>151</xloc>
      <yloc>108</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>WeightStructureResult-Calculate-score-not-deduct</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>WeightStructureResult-Calculate-score-not-deduct</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>WeightStructureResult-Calculate-score-not-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>jobStart</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>WeightStructureResult-Calculate-score-not-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CdsResult_doCalculate</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;35.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;27&#x3a;19.000</modified_date>
    <parameters>
        <parameter>
            <name>dbname</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>dbtype</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>host</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>password</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>port</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>query</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>sql_cds_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>username</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
  <connection>
    <name>MssqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>MysqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>CdsResult_doMysqlQuery</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>CdsResult_doMysqlQuery</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>dbname</name>
            <stream_name/>
            <value>&#x24;&#x7b;dbname&#x7d;</value>
            </parameter>            <parameter>            <name>host</name>
            <stream_name/>
            <value>&#x24;&#x7b;host&#x7d;</value>
            </parameter>            <parameter>            <name>password</name>
            <stream_name/>
            <value>&#x24;&#x7b;password&#x7d;</value>
            </parameter>            <parameter>            <name>port</name>
            <stream_name/>
            <value>&#x24;&#x7b;port&#x7d;</value>
            </parameter>            <parameter>            <name>query</name>
            <stream_name/>
            <value>&#x24;&#x7b;query&#x7d;</value>
            </parameter>            <parameter>            <name>username</name>
            <stream_name/>
            <value>&#x24;&#x7b;username&#x7d;</value>
            </parameter>            <parameter>            <name>sql_cds_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;sql_cds_id&#x7d;</value>
            </parameter>            <parameter>            <name>reject_path</name>
            <stream_name/>
            <value>&#x24;&#x7b;reject_path&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>656</xloc>
      <yloc>368</yloc>
      </entry>
    <entry>
      <name>Check Db connections Mysql</name>
      <description/>
      <type>CHECK_DB_CONNECTIONS</type>
      <connections>
        <connection>
          <name>MysqlParamConn</name>
          <waitfor>0</waitfor>
          <waittime>millisecond</waittime>
        </connection>
      </connections>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>448</xloc>
      <yloc>368</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - mysql</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>dbtype</variablename>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>2</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>368</yloc>
      </entry>
    <entry>
      <name>CdsResult_doSQLQuery</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>CdsResult_doSQLQuery</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>dbname</name>
            <stream_name/>
            <value>&#x24;&#x7b;dbname&#x7d;</value>
            </parameter>            <parameter>            <name>host</name>
            <stream_name/>
            <value>&#x24;&#x7b;host&#x7d;</value>
            </parameter>            <parameter>            <name>password</name>
            <stream_name/>
            <value>&#x24;&#x7b;password&#x7d;</value>
            </parameter>            <parameter>            <name>port</name>
            <stream_name/>
            <value>&#x24;&#x7b;port&#x7d;</value>
            </parameter>            <parameter>            <name>query</name>
            <stream_name/>
            <value>&#x24;&#x7b;query&#x7d;</value>
            </parameter>            <parameter>            <name>username</name>
            <stream_name/>
            <value>&#x24;&#x7b;username&#x7d;</value>
            </parameter>            <parameter>            <name>sql_cds_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;sql_cds_id&#x7d;</value>
            </parameter>            <parameter>            <name>reject_path</name>
            <stream_name/>
            <value>&#x24;&#x7b;reject_path&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>656</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>Check Db connections Mssql</name>
      <description/>
      <type>CHECK_DB_CONNECTIONS</type>
      <connections>
        <connection>
          <name>MssqlParamConn</name>
          <waitfor>0</waitfor>
          <waittime>millisecond</waittime>
        </connection>
      </connections>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>448</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - mssql</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>dbtype</variablename>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>3</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>848</xloc>
      <yloc>272</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>64</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>DUMMY</name>
      <description/>
      <type>SPECIAL</type>
      <start>N</start>
      <dummy>Y</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>496</yloc>
      </entry>
    <entry>
      <name>DUMMY 2</name>
      <description/>
      <type>SPECIAL</type>
      <start>N</start>
      <dummy>Y</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>448</xloc>
      <yloc>272</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>CdsResult_doMysqlQuery</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mysql</from>
      <to>DUMMY 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mssql</from>
      <to>DUMMY 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mysql</from>
      <to>CdsResult_doMysqlQuery</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mysql</from>
      <to>Check Db connections Mysql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mysql</from>
      <to>DUMMY</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mssql</from>
      <to>Simple evaluation - mysql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CdsResult_doSQLQuery</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Simple evaluation - mssql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mssql</from>
      <to>CdsResult_doSQLQuery</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mssql</from>
      <to>Check Db connections Mssql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>doCalculateType</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;22.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;10&#x2f;24 22&#x3a;34&#x3a;41.202</modified_date>
    <parameters>
        <parameter>
            <name>result_type</name>
            <default_value>1</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>CalculateWeightStructureResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CalculateWeightStructureResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>757</xloc>
      <yloc>240</yloc>
      </entry>
    <entry>
      <name>CalculateWeightKpiResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CalculateWeightKpiResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>544</xloc>
      <yloc>240</yloc>
      </entry>
    <entry>
      <name>CalculateScoreKpiResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CalculateScoreKpiResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>544</xloc>
      <yloc>112</yloc>
      </entry>
    <entry>
      <name>SummaryScoreEmpResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>SummaryScoreEmpResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>992</xloc>
      <yloc>112</yloc>
      </entry>
    <entry>
      <name>CalculateScoreStructureResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CalculateScoreStructureResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>752</xloc>
      <yloc>112</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>96</xloc>
      <yloc>112</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - Calculate Weight&#x25;</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>result_type</variablename>
      <fieldtype>number</fieldtype>
      <mask/>
      <comparevalue>1</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>304</xloc>
      <yloc>240</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - Calculate Score</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>result_type</variablename>
      <fieldtype>number</fieldtype>
      <mask/>
      <comparevalue>2</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>304</xloc>
      <yloc>112</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>992</xloc>
      <yloc>240</yloc>
      </entry>
    <entry>
      <name>DUMMY</name>
      <description/>
      <type>SPECIAL</type>
      <start>N</start>
      <dummy>Y</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>304</xloc>
      <yloc>368</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>CalculateWeightStructureResult</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>CalculateWeightKpiResult</from>
      <to>CalculateWeightStructureResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Weight&#x25;</from>
      <to>CalculateWeightKpiResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>SummaryScoreEmpResult</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>CalculateScoreStructureResult</from>
      <to>SummaryScoreEmpResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>CalculateScoreKpiResult</from>
      <to>CalculateScoreStructureResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Score</from>
      <to>CalculateScoreKpiResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Weight&#x25;</from>
      <to>DUMMY</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Simple evaluation - Calculate Score</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Score</from>
      <to>Simple evaluation - Calculate Weight&#x25;</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>SummaryScoreEmpResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;07 22&#x3a;28&#x3a;45.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 19&#x3a;34&#x3a;45.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>5</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>jobStart</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobStart</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>352</xloc>
      <yloc>208</yloc>
      </entry>
    <entry>
      <name>jobSuccess</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>jobSuccess</transname>
      <directory>&#x2f;SeeKPI&#x2f;Monitor</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>job_log_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;job_log_id&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>688</xloc>
      <yloc>208</yloc>
      </entry>
    <entry>
      <name>SummaryScoreEmpResult-result_score</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>SummaryScoreEmpResult-result_score</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>514</xloc>
      <yloc>116</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>768</xloc>
      <yloc>208</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>272</xloc>
      <yloc>208</yloc>
      </entry>
    <entry>
      <name>Abort job</name>
      <description/>
      <type>ABORT</type>
      <message/>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>520</xloc>
      <yloc>333</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>jobSuccess</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>SummaryScoreEmpResult-result_score</from>
      <to>jobSuccess</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>SummaryScoreEmpResult-result_score</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>jobStart</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jobStart</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>SummaryScoreEmpResult-result_score</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jobSuccess</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>SummaryScoreEmpResult-result_score</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>SummaryScoreEmpResult-result_score</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateCdsResults</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;31.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;10&#x2f;27 15&#x3a;40&#x3a;09.000</modified_date>
    <parameters>
        <parameter>
            <name>job_log_id</name>
            <default_value>1</default_value>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>CdsResult_doCalculate</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CdsResult_doCalculate</jobname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>dbname</name>
            <stream_name>dbname</stream_name>
            <value/>
            </parameter>            <parameter>            <name>dbtype</name>
            <stream_name>dbtype</stream_name>
            <value/>
            </parameter>            <parameter>            <name>host</name>
            <stream_name>host</stream_name>
            <value/>
            </parameter>            <parameter>            <name>password</name>
            <stream_name>password</stream_name>
            <value/>
            </parameter>            <parameter>            <name>query</name>
            <stream_name>query</stream_name>
            <value/>
            </parameter>            <parameter>            <name>username</name>
            <stream_name>username</stream_name>
            <value/>
            </parameter>            <parameter>            <name>port</name>
            <stream_name>port</stream_name>
            <value/>
            </parameter>            <parameter>            <name>sql_cds_id</name>
            <stream_name>sql_cds_id</stream_name>
            <value/>
            </parameter>            <parameter>            <name>reject_path</name>
            <stream_name/>
            <value>&#x24;&#x7b;reject_path&#x7d;</value>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>527</xloc>
      <yloc>60</yloc>
      </entry>
    <entry>
      <name>CdsResults_CdsList</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>CdsResults_CdsList</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>402</xloc>
      <yloc>60</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>666</xloc>
      <yloc>60</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>269</xloc>
      <yloc>60</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>CdsResults_CdsList</from>
      <to>CdsResult_doCalculate</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>CdsResults_CdsList</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>CdsResult_doCalculate</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateScoreKpiResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;31.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 09&#x3a;22&#x3a;26.785</modified_date>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value>2017-01-01</default_value>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>1044</xloc>
      <yloc>394</yloc>
      </entry>
    <entry>
      <name>SummaryScoreEmpResult-result_score</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>SummaryScoreEmpResult-result_score</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>832</xloc>
      <yloc>393</yloc>
      </entry>
    <entry>
      <name>ScoreStructureResult-Calculate-score-not-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreStructureResult-Calculate-score-not-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>526</xloc>
      <yloc>269</yloc>
      </entry>
    <entry>
      <name>ScoreStructureResult-Calculate-score-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreStructureResult-Calculate-score-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>526</xloc>
      <yloc>393</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>61</xloc>
      <yloc>27</yloc>
      </entry>
    <entry>
      <name>ScoreKpiResult-DeductScore</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-DeductScore</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>240</xloc>
      <yloc>269</yloc>
      </entry>
    <entry>
      <name>ScoreKpiResult-calucalute-actual-result</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-calucalute-actual-result</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>240</xloc>
      <yloc>27</yloc>
      </entry>
    <entry>
      <name>ScoreKpiResult-Quality</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>ScoreKpiResult-Quality</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>240</xloc>
      <yloc>147</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>START</from>
      <to>ScoreKpiResult-calucalute-actual-result</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-DeductScore</from>
      <to>ScoreStructureResult-Calculate-score-not-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreStructureResult-Calculate-score-not-deduct</from>
      <to>ScoreStructureResult-Calculate-score-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreStructureResult-Calculate-score-deduct</from>
      <to>SummaryScoreEmpResult-result_score</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>SummaryScoreEmpResult-result_score</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-calucalute-actual-result</from>
      <to>ScoreKpiResult-Quality</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>ScoreKpiResult-Quality</from>
      <to>ScoreKpiResult-DeductScore</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CalculateWeightKpiResult</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;31.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;28 09&#x3a;24&#x3a;37.385</modified_date>
    <parameters>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>WeightStructureResult-Calculate-score-not-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightStructureResult-Calculate-score-not-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>602</xloc>
      <yloc>259</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>1192</xloc>
      <yloc>389</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>89</xloc>
      <yloc>54</yloc>
      </entry>
    <entry>
      <name>WeightKpiResult-calucalute-actual-result</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightKpiResult-calucalute-actual-result</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>275</xloc>
      <yloc>54</yloc>
      </entry>
    <entry>
      <name>SummaryWeightEmpResult-result_score</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>SummaryWeightEmpResult-result_score</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>938</xloc>
      <yloc>389</yloc>
      </entry>
    <entry>
      <name>WeightKpiResult-DeductScore</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightKpiResult-DeductScore_new</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>275</xloc>
      <yloc>259</yloc>
      </entry>
    <entry>
      <name>WeightKpiResult-Quality</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightKpiResult-Quality</transname>
      <directory>&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>275</xloc>
      <yloc>154</yloc>
      </entry>
    <entry>
      <name>WeightStructureResult-Calculate-score-deduct</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>WeightStructureResult-Calculate-score-deduct</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>602</xloc>
      <yloc>390</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>START</from>
      <to>WeightKpiResult-calucalute-actual-result</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>SummaryWeightEmpResult-result_score</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>WeightKpiResult-calucalute-actual-result</from>
      <to>WeightKpiResult-Quality</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>WeightKpiResult-Quality</from>
      <to>WeightKpiResult-DeductScore</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>WeightKpiResult-DeductScore</from>
      <to>WeightStructureResult-Calculate-score-not-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>WeightStructureResult-Calculate-score-not-deduct</from>
      <to>WeightStructureResult-Calculate-score-deduct</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>WeightStructureResult-Calculate-score-deduct</from>
      <to>SummaryWeightEmpResult-result_score</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>CdsResult_doCalculate</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;07&#x2f;05 10&#x3a;26&#x3a;35.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;08&#x2f;18 16&#x3a;27&#x3a;19.000</modified_date>
    <parameters>
        <parameter>
            <name>dbname</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>dbtype</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>host</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>password</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>port</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>query</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>reject_path</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>sql_cds_id</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>username</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
  <connection>
    <name>MssqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>MysqlParamConn</name>
    <server>&#x24;&#x7b;host&#x7d;</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;dbname&#x7d;</database>
    <port>&#x24;&#x7b;port&#x7d;</port>
    <username>&#x24;&#x7b;username&#x7d;</username>
    <password>&#x24;&#x7b;password&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_MYSQL.defaultFetchSize</code><attribute>500</attribute></attribute>
      <attribute><code>EXTRA_OPTION_MYSQL.useCursorFetch</code><attribute>true</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;port&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>STREAM_RESULTS</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>CdsResult_doMysqlQuery</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>CdsResult_doMysqlQuery</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>dbname</name>
            <stream_name/>
            <value>&#x24;&#x7b;dbname&#x7d;</value>
            </parameter>            <parameter>            <name>host</name>
            <stream_name/>
            <value>&#x24;&#x7b;host&#x7d;</value>
            </parameter>            <parameter>            <name>password</name>
            <stream_name/>
            <value>&#x24;&#x7b;password&#x7d;</value>
            </parameter>            <parameter>            <name>port</name>
            <stream_name/>
            <value>&#x24;&#x7b;port&#x7d;</value>
            </parameter>            <parameter>            <name>query</name>
            <stream_name/>
            <value>&#x24;&#x7b;query&#x7d;</value>
            </parameter>            <parameter>            <name>username</name>
            <stream_name/>
            <value>&#x24;&#x7b;username&#x7d;</value>
            </parameter>            <parameter>            <name>sql_cds_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;sql_cds_id&#x7d;</value>
            </parameter>            <parameter>            <name>reject_path</name>
            <stream_name/>
            <value>&#x24;&#x7b;reject_path&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>656</xloc>
      <yloc>368</yloc>
      </entry>
    <entry>
      <name>Check Db connections Mysql</name>
      <description/>
      <type>CHECK_DB_CONNECTIONS</type>
      <connections>
        <connection>
          <name>MysqlParamConn</name>
          <waitfor>0</waitfor>
          <waittime>millisecond</waittime>
        </connection>
      </connections>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>448</xloc>
      <yloc>368</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - mysql</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>dbtype</variablename>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>2</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>368</yloc>
      </entry>
    <entry>
      <name>CdsResult_doSQLQuery</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id/>
      <filename/>
      <transname>CdsResult_doSQLQuery</transname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>dbname</name>
            <stream_name/>
            <value>&#x24;&#x7b;dbname&#x7d;</value>
            </parameter>            <parameter>            <name>host</name>
            <stream_name/>
            <value>&#x24;&#x7b;host&#x7d;</value>
            </parameter>            <parameter>            <name>password</name>
            <stream_name/>
            <value>&#x24;&#x7b;password&#x7d;</value>
            </parameter>            <parameter>            <name>port</name>
            <stream_name/>
            <value>&#x24;&#x7b;port&#x7d;</value>
            </parameter>            <parameter>            <name>query</name>
            <stream_name/>
            <value>&#x24;&#x7b;query&#x7d;</value>
            </parameter>            <parameter>            <name>username</name>
            <stream_name/>
            <value>&#x24;&#x7b;username&#x7d;</value>
            </parameter>            <parameter>            <name>sql_cds_id</name>
            <stream_name/>
            <value>&#x24;&#x7b;sql_cds_id&#x7d;</value>
            </parameter>            <parameter>            <name>reject_path</name>
            <stream_name/>
            <value>&#x24;&#x7b;reject_path&#x7d;</value>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>656</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>Check Db connections Mssql</name>
      <description/>
      <type>CHECK_DB_CONNECTIONS</type>
      <connections>
        <connection>
          <name>MssqlParamConn</name>
          <waitfor>0</waitfor>
          <waittime>millisecond</waittime>
        </connection>
      </connections>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>448</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - mssql</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>dbtype</variablename>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>3</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>848</xloc>
      <yloc>272</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>64</xloc>
      <yloc>192</yloc>
      </entry>
    <entry>
      <name>DUMMY</name>
      <description/>
      <type>SPECIAL</type>
      <start>N</start>
      <dummy>Y</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>496</yloc>
      </entry>
    <entry>
      <name>DUMMY 2</name>
      <description/>
      <type>SPECIAL</type>
      <start>N</start>
      <dummy>Y</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>448</xloc>
      <yloc>272</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>CdsResult_doMysqlQuery</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mysql</from>
      <to>DUMMY 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mssql</from>
      <to>DUMMY 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mysql</from>
      <to>CdsResult_doMysqlQuery</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mysql</from>
      <to>Check Db connections Mysql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mysql</from>
      <to>DUMMY</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mssql</from>
      <to>Simple evaluation - mysql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CdsResult_doSQLQuery</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Simple evaluation - mssql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Check Db connections Mssql</from>
      <to>CdsResult_doSQLQuery</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - mssql</from>
      <to>Check Db connections Mssql</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>doCalculateType</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;08&#x2f;16 19&#x3a;27&#x3a;22.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2560&#x2f;11&#x2f;21 14&#x3a;30&#x3a;41.157</modified_date>
    <parameters>
        <parameter>
            <name>param_result_type</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>param_start_date</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <slaveservers>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>DUMMY</name>
      <description/>
      <type>SPECIAL</type>
      <start>N</start>
      <dummy>Y</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>243</xloc>
      <yloc>371</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>701</xloc>
      <yloc>174</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - Calculate Score</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>&#x24;&#x7b;param_result_type&#x7d;</variablename>
      <fieldtype>number</fieldtype>
      <mask/>
      <comparevalue>2</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>243</xloc>
      <yloc>115</yloc>
      </entry>
    <entry>
      <name>Simple evaluation - Calculate Weight&#x25;</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>variable</valuetype>
      <fieldname/>
      <variablename>&#x24;&#x7b;param_result_type&#x7d;</variablename>
      <fieldtype>number</fieldtype>
      <mask/>
      <comparevalue>1</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>243</xloc>
      <yloc>243</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>35</xloc>
      <yloc>115</yloc>
      </entry>
    <entry>
      <name>CalculateScoreKpiResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CalculateScoreKpiResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>483</xloc>
      <yloc>114</yloc>
      </entry>
    <entry>
      <name>CalculateWeightKpiResult</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id/>
      <filename/>
      <jobname>CalculateWeightKpiResult</jobname>
      <directory>&#x2f;SeeKPI&#x2f;SeeKPI&#x2f;Processing</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <force_separate_logging>N</force_separate_logging>
      <parameters>        <pass_all_parameters>N</pass_all_parameters>
            <parameter>            <name>param_start_date</name>
            <stream_name/>
            <value>&#x24;&#x7b;param_start_date&#x7d;</value>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>483</xloc>
      <yloc>243</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>Simple evaluation - Calculate Score</from>
      <to>Simple evaluation - Calculate Weight&#x25;</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Simple evaluation - Calculate Score</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Weight&#x25;</from>
      <to>DUMMY</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Score</from>
      <to>CalculateScoreKpiResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Simple evaluation - Calculate Weight&#x25;</from>
      <to>CalculateWeightKpiResult</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CalculateWeightKpiResult</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>CalculateScoreKpiResult</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
    <notepad>
      <note>Result Type</note>
      <xloc>214</xloc>
      <yloc>72</yloc>
      <width>85</width>
      <heigth>30</heigth>
      <fontname/>
      <fontsize>-1</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Persent</note>
      <xloc>470</xloc>
      <yloc>211</yloc>
      <width>58</width>
      <heigth>30</heigth>
      <fontname/>
      <fontsize>-1</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>

</job>

</jobs>
</repository>

